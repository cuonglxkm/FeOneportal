<page-header [breadcrumb]="breadcrumb" [title]="'Quản lý IP Floating'">
    <ng-template #breadcrumb>
      <nz-breadcrumb>
        <nz-breadcrumb-item>Trang chủ</nz-breadcrumb-item>
        <nz-breadcrumb-item>Dịch vụ hạ tầng</nz-breadcrumb-item>
        <nz-breadcrumb-item>File Storage</nz-breadcrumb-item>
        <nz-breadcrumb-item>File System</nz-breadcrumb-item>
      </nz-breadcrumb>
    </ng-template>
  </page-header>
  <nz-content>
    <nz-card>
      <span class="text-card-header">Quản lý File System</span>
      <nz-row nzJustify="space-between" style="margin-top: 20px;">
        <nz-col nzSpan="16">
          <nz-input-group [nzPrefix]="prefixIconSearch"
                          nzSize="large"
                          style="width: 300px;">
            <input name="name"
                   nz-input
                   placeholder="Tìm kiếm"
                   [(ngModel)]="value"
                   (input)="onInputChange($event.target['value'])"/>
          </nz-input-group>
          <ng-template #prefixIconSearch>
            <img src="assets/imgs/search.svg" alt="" style="cursor: pointer" nz-tooltip="Tìm kiếm"/>
          </ng-template>
        </nz-col>
        <nz-col nzSpan="8" style="flex:none;">
          <one-portal-create-file-system (onOk)="handleOkCreateFileSystem()" />
        </nz-col>
      </nz-row>
      <nz-table #fixedTable
                style="margin-top: 20px;"
                [nzData]="response?.records"
                [nzPageSize]="response?.pageSize"
                (nzPageSizeChange)="onPageSizeChange($event)"
                [nzPageIndex]="response?.currentPage"
                (nzPageIndexChange)="onPageIndexChange($event)"
                [nzTotal]="response?.totalCount"
                [nzFrontPagination]="false"
                [nzLoading]="isLoading">
        <thead>
        <tr>
          <th>STT</th>
          <th>Tên</th>
          <th>Trạng thái</th>
          <th>Trạng thái tác vụ</th>
          <th>Loại File System</th>
          <th>Giao thức</th>
          <th>Dung lượng</th>
          <th>Thao tác</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of fixedTable.data">
          <td>{{data.ipAddress}}</td>
          <td>
            <span *ngIf="data.ipAddress != null || data.ipAddress != ''">{{data.ipAddress}}</span>
            <span *ngIf="data.ipAddress == null || data.ipAddress == ''">{{data.iPv6Address}}</span>
          </td>
          <td>{{data.networkId}}</td>
          <td>{{data.typeIP}}</td>
          <td>
            <div>
              <span style="color: #0066B3; margin-right: 10px; cursor: pointer;" nz-icon nzType="plus"
                    nzTheme="outline"
                    nz-popover
                    [nzPopoverContent]="'Gắn IP Floating'"
                    nzPopoverPlacement="bottom"></span>
  
              <span style="color: #0066B3; margin-right: 10px; cursor: pointer;" nz-icon nzType="close"
                    nzTheme="outline" nz-popover
                    [nzPopoverContent]="'Gỡ IP Floating'"
                    nzPopoverPlacement="bottom" ></span>
              <span *ngIf="data.typeIP?.includes('IP WAN')"
                    style="color: #0066B3; margin-right: 10px; cursor: pointer;" nz-icon nzType="delete"
                    nzTheme="outline" nz-popover
                    [nzPopoverContent]="'Xóa'"
                    nzPopoverPlacement="bottom"></span>
            </div>
          </td>
        </tr>
        </tbody>
      </nz-table>
    </nz-card>
  </nz-content>
  