<nz-card [nzBodyStyle]="{ padding: '10px 24px' }" [nzBordered]="false">
  <div class="left-start-center">
    <nz-breadcrumb>
      <nz-breadcrumb-item>Home</nz-breadcrumb-item>
      <nz-breadcrumb-item>Dashboard</nz-breadcrumb-item>
      <nz-breadcrumb-item>Analysis</nz-breadcrumb-item>
    </nz-breadcrumb>
  </div>
</nz-card>

<section class="content-wrap">
  <section class="ant-row" nz-row [nzGutter]="[32, 16]">
    <div nz-col [nzLg]="12" [nzMd]="12" [nzSm]="12" [nzXl]="6" [nzXs]="24" [nzXXl]="6">
      <div class="card-wrap">
        <nz-card [nzBodyStyle]="cardPadding" [nzBordered]="false">
          <div class="card-top">
            <div class="title">Total Sales</div>
            <div class="number">$126,560</div>
            <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
          </div>
          <div class="card-mid">
            <div class="mid-text">
              <span>
                11% every day
                <i nz-icon nzTheme="outline" nzType="caret-down" style="color: red; font-size: 12px"></i>
              </span>
            </div>
            <div class="mid-text">
              <span>
                12% every week
                <i nz-icon nzTheme="outline" nzType="caret-up" style="color: green; font-size: 12px"></i>
              </span>
            </div>
          </div>
          <nz-divider class="m-0"></nz-divider>
          <div class="card-footer">Daily Sales: $12,423</div>
        </nz-card>
      </div>
    </div>
    <div nz-col [nzLg]="12" [nzMd]="12" [nzSm]="12" [nzXl]="6" [nzXs]="24" [nzXXl]="6">
      <div class="card-wrap">
        <nz-card [nzBodyStyle]="cardPadding" [nzBordered]="false">
          <div class="card-top">
            <div class="title">Visits</div>
            <div class="number">8,846</div>
            <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
          </div>
          <div class="card-mid">
            <div id="miniArea"></div>
          </div>
          <nz-divider class="m-0"></nz-divider>
          <div class="card-footer">Daily Visits: 1,234</div>
        </nz-card>
      </div>
    </div>
    <div nz-col [nzLg]="12" [nzMd]="12" [nzSm]="12" [nzXl]="6" [nzXs]="24" [nzXXl]="6">
      <div class="card-wrap">
        <nz-card [nzBodyStyle]="cardPadding" [nzBordered]="false">
          <div class="card-top">
            <div class="title">Payments</div>
            <div class="number">6,560</div>
            <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
          </div>
          <div class="card-mid">
            <div id="miniBar"></div>
          </div>
          <nz-divider class="m-0"></nz-divider>
          <div class="card-footer">Conversion Rate: 60%</div>
        </nz-card>
      </div>
    </div>
    <div nz-col [nzLg]="12" [nzMd]="12" [nzSm]="12" [nzXl]="6" [nzXs]="24" [nzXXl]="6">
      <div class="card-wrap">
        <nz-card [nzBodyStyle]="cardPadding" [nzBordered]="false">
          <div class="card-top">
            <div class="title">Operational Effect</div>
            <div class="number">{{0.78 | percent}}</div>
            <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
          </div>
          <div class="card-mid">
            <nz-progress [nzPercent]="80" [nzSuccessPercent]="78" [nzShowInfo]="false" [nzStrokeLinecap]="'square'">â‰ˆ</nz-progress>
            <!-- <div id="progress"></div> -->
          </div>
          <nz-divider class="m-0"></nz-divider>
          <div class="card-footer">Daily Sales: $12,423</div>
        </nz-card>
      </div>
    </div>
  </section>

  <section class="flow-wrap m-t-20">
    <nz-card [nzBodyStyle]="{ padding: 0 }" [nzBordered]="true">
      <nz-tabset [nzAnimated]="false" [nzTabBarExtraContent]="extraTemplate" [nzTabBarStyle]="{ padding: '0 10px', fontSize: '16px' }">
        <nz-tab nzTitle="Sales">
          <div nz-row>
            <div nz-col [nzLg]="12" [nzMd]="13" [nzSm]="24" [nzXl]="17" [nzXs]="24">
              <h3 class="p-l-35">Sales Trends</h3>
              <div id="histogram"></div>
            </div>
            <div nz-col [nzLg]="12" [nzMd]="11" [nzSm]="24" [nzXl]="7" [nzXs]="24">
              <h3 class="p-l-35 m-b-20">Sales Ranking</h3>
              <div *ngFor="let item of 7 | numberLoop; let i = index" class="rank-list" title="Store No. {{ i }}, Gongzhuan Road">
                <div class="center">
                  <nz-badge [nzCount]="i + 1" [nzStyle]="{ background: i < 4 ? '#ff4d4f' : '#fbcece', color: i < 4 ? '#fff' : 'black' }"></nz-badge>
                  <span class="m-l-5">Gongzhuan Road: {{ i+1 }} Shop</span>
                </div>
                <div>323,234</div>
              </div>
            </div>
          </div>
        </nz-tab>
        <nz-tab nzTitle="Visits">
          <h3></h3>
        </nz-tab>
      </nz-tabset>
    </nz-card>

    <ng-template #extraTemplate>
      <nz-radio-group [(ngModel)]="dateType" (ngModelChange)="changeDateType($event)" [ngClass]="'sale-filter'">
        <label nz-radio-button nzValue="day">All day</label>
        <label nz-radio-button nzValue="week">All week</label>
        <label nz-radio-button nzValue="month">All month</label>
        <label nz-radio-button nzValue="year">All year</label>
      </nz-radio-group>
      <nz-range-picker class="m-l-20" [(ngModel)]="date" (ngModelChange)="onChangeDate($event)"></nz-range-picker>
    </ng-template>
  </section>

  <section class="m-t-20" nz-row [nzGutter]="[16, 0]">
    <div class="hot-search-wrap" nz-col nzSpan="12" [nzLg]="12" [nzMd]="24" [nzSm]="24" [nzXl]="12" [nzXs]="24" [nzXXl]="12">
      <nz-card [nzBodyStyle]="{ height: '500px' }" [nzExtra]="hotExtra" [nzTitle]="'Online Top Search'">
        <div class="search-wrap" nz-row>
          <div class="search-block" nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24" [nzXXl]="12">
            <div>
              <div>
                <span nz-typography nzType="secondary">
                  Search Users
                  <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
                </span>
              </div>
              <div>
                <h3 class="d-i-b m-r-30" nz-typography>{{12321 | number}}</h3>
                <span>
                  {{17.1 | number}}
                  <i nz-icon nzTheme="outline" nzType="caret-up" style="color: green; font-size: 12px"></i>
                </span>
              </div>
            </div>
            <div id="searchUserChart"></div>
          </div>
          <div class="search-block" nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24" [nzXXl]="12">
            <div>
              <div>
                <span nz-typography nzType="secondary">
                  Per Capita Search
                  <i nz-icon nz-tooltip nzTheme="outline" nzTooltipTitle="Indicator Description" nzType="info-circle"></i>
                </span>
              </div>
              <div>
                <h3 class="d-i-b m-r-30" nz-typography>{{2.7 | number}}</h3>
                <span>
                  {{26.2 | number}}
                  <i nz-icon nzTheme="outline" nzType="caret-up" style="color: green; font-size: 12px"></i>
                </span>
              </div>
            </div>
            <div id="searchUserAvgChart"></div>
          </div>
          <nz-table #sortTable class="m-t-25" [nzPageSize]="5" [nzSize]="'small'" nzTableLayout="fixed" [nzData]="listOfData">
            <thead>
              <tr>
                <th *ngFor="let column of listOfColumn; let i=index" [nzShowSort]="i>1 ? true : false" [nzSortFn]="column.compare" [nzSortPriority]="column.priority">{{ column.title }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of sortTable.data">
                <td>{{ data.sort }}</td>
                <td>{{ data.key }}</td>
                <td>{{ data.user_num }}</td>
                <td>
                  <span class="mr10">{{ data.growth }}%</span>
                  <i *ngIf="data.status == 1" nz-icon nzType="caret-up" nzTheme="outline" style="color: #52C41A"></i>
                  <i *ngIf="data.status == 0" nz-icon nzType="caret-down" nzTheme="outline" style="color: #F5222D"></i>
                </td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </nz-card>
      <ng-template #hotExtra>
        <i nz-dropdown [nzDropdownMenu]="menu" [nzPlacement]="'bottomRight'" nz-icon nzType="ellipsis" nzTheme="outline"></i>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu nzSelectable>
            <li nz-menu-item>Operation 1</li>
            <li nz-menu-item>Operation 2</li>
          </ul>
        </nz-dropdown-menu>
      </ng-template>
    </div>
    <div class="pipe-wrap" nz-col nzSpan="12" [nzLg]="12" [nzMd]="24" [nzSm]="24" [nzXl]="12" [nzXs]="24" [nzXXl]="12">
      <nz-card [nzBodyStyle]="{ height: '500px' }" [nzTitle]="'The Proportion Of Sales'" [nzExtra]="extraType">
        <h4>Sales</h4>
        <div id="ringPie"></div>
      </nz-card>
      <ng-template #extraType>
        <nz-radio-group [(ngModel)]="type" class="m-r-10">
          <label nz-radio-button nzValue="all">All</label>
          <label nz-radio-button nzValue="online">Online</label>
          <label nz-radio-button nzValue="offline">Stores</label>
        </nz-radio-group>
        <i nz-dropdown [nzDropdownMenu]="menuType" [nzPlacement]="'bottomRight'" nz-icon nzType="ellipsis" nzTheme="outline"></i>
        <nz-dropdown-menu #menuType="nzDropdownMenu">
          <ul nz-menu nzSelectable>
            <li nz-menu-item>Operation 1</li>
            <li nz-menu-item>Operation 2</li>
          </ul>
        </nz-dropdown-menu>
      </ng-template>
    </div>
  </section>
</section>
