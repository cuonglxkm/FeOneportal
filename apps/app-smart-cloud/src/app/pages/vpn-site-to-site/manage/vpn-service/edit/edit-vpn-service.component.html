<img
  style="cursor: pointer; margin-right: 16px"
  src="assets/imgs/edit-2.svg"
  [ngStyle]="{
    filter: vpnServiceStatus === 'PENDING_CREATE' ? 'grayscale(100%)' : ''
  }"
  [class.disabled]="vpnServiceStatus === 'PENDING_CREATE'"
  nz-popover
  [nzPopoverContent]="'Sửa'"
  nzPopoverPlacement="bottom"
  (click)="showModal()"
/>
<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="null"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle>
    <span class="text-modal-title">Chỉnh sửa thông tin VPN Service</span>
  </ng-template>
  <ng-template #modalContent>
    <form [formGroup]="validateForm" nz-form [nzLayout]="'vertical'">
      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="24" class="gutter-row">
          <nz-form-item>
            <nz-form-control [nzErrorTip]="nameErrorTpl">
              <nz-form-label>
                <div>
                  <span>Name</span>
                  (<span style="color: rgba(252, 16, 16, 1)">*</span>)
                  <img
                    nz-popover
                    [nzPopoverContent]="
                      'Tên của VPN Service, các ký tự chữ thường a-z, chữ hoa A-Z, số 0-9, dấu gạch ngang (-) và dấu gạch dưới (_), có thể có khoảng trắng, tối thiểu 1 ký tự và tối đa 50 ký tự.'
                    "
                    nzPopoverPlacement="bottom"
                    style="margin-left: 5px"
                    src="assets/imgs/pajamas_question.svg"
                    alt=""
                  />
                </div>
              </nz-form-label>
              <input
                nz-input
                type="text"
                required
                appTrim
                [maxlength]="50"
                placeholder="Nhập tên"
                formControlName="name"
                class="input-custom"
              />
              <ng-template #nameErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')"
                  >Tên VPN Service không được để trống</ng-container
                >
                <ng-container *ngIf="control.hasError('pattern')"
                  >Tên VPN Service chỉ chứa các ký tự chữ thường a-z, chữ hoa A-Z, số 0-9, dấu gạch ngang (-) và dấu gạch dưới (_), có thể có khoảng trắng, tối thiểu 1 ký tự và tối đa 50 ký tự</ng-container
                >
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="24" class="gutter-row">
          <nz-form-item>
            <nz-form-control>
              <nz-form-label nzFor="name">
                <div style="margin-top: 5px">
                  <span>Router</span>
                  (<span style="color: rgba(252, 16, 16, 1)">*</span>)
                    <img
                      nz-popover
                      [nzPopoverContent]="
                        'Router được tạo mặc định cho dịch vụ.'
                      "
                      nzPopoverPlacement="bottom"
                      style="margin-left: 5px"
                      src="assets/imgs/pajamas_question.svg"
                      alt=""
                    />
                </div>
              </nz-form-label>
              <input
                nz-input
                type="text"
                required
                [placeholder]="vpnRouterName"
                [disabled]="true"
                class="input-custom"
              />
            </nz-form-control>
          </nz-form-item>
          <nz-form-item nzAlign="bottom" nzJustify="center">
            <nz-space nzSize="middle">
              <button
                *nzSpaceItem
                nz-button
                nzType="default"
                (click)="handleCancel()"
                class="button-back"
              >
                <img
                  style="padding-right: 10px; margin-top: -4px"
                  src="assets/imgs/cancel.svg"
                  alt=""
                />{{ 'app.button.cancel' | i18n }}
              </button>
              <nz-form-control *nzSpaceItem>
                <button
                  nz-button
                  nzType="primary"
                  [nzLoading]="isLoading"
                  class="button-new"
                  (click)="handleOk()"
                  [disabled]="validateForm.invalid"
                >
                  <img
                    *ngIf="isLoading === false"
                    style="padding-right: 10px; margin-top: -4px"
                    src="assets/imgs/confirm.svg"
                    alt=""
                  />
                  {{ 'app.button.confirm' | i18n }}
                </button>
              </nz-form-control>
            </nz-space>
          </nz-form-item>
        </div>
      </div>
    </form>
  </ng-template>
</nz-modal>
