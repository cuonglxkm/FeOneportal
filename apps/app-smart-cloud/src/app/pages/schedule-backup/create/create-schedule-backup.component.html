<page-header [breadcrumb]="breadcrumb" [action]="action" title="{{'schedule.backup.title.job' | i18n}}">
  <ng-template #breadcrumb>
    <nz-breadcrumb [nzSeparator]="iconTemplate">
      <nz-breadcrumb-item>{{'app.breadcrumb.home' | i18n}}</nz-breadcrumb-item>
      <nz-breadcrumb-item>{{'app.breadcrumb.infrastructure.service' | i18n}}</nz-breadcrumb-item>
      <nz-breadcrumb-item>Backup</nz-breadcrumb-item>
      <nz-breadcrumb-item routerLink="/app-smart-cloud/schedule/list">{{'schedule.backup.title.job' | i18n}}</nz-breadcrumb-item>
      <ng-template #iconTemplate><one-portal-svg-icon [icon]="'icon_breadcrumb'"></one-portal-svg-icon></ng-template>
    </nz-breadcrumb>
  </ng-template>
  <ng-template #action>
    <div class="alain-custom-action text-right">
      <share-users-combobox></share-users-combobox>
      <region-select-dropdown (valueChanged)="regionChanged($event)"></region-select-dropdown>
      <project-select-dropdown (userChanged)="userChanged($event)"
                               (valueChanged)="projectChanged($event)"
                               [regionId]="region"></project-select-dropdown>
    </div>
    </ng-template>
</page-header>
<nz-content>
    <form nz-form [formGroup]="validateForm" nzLayout="vertical">
        <!--    <nz-card>-->
        <nz-card>
            <span class="text-card-header">{{'app.create.backup.schedule' | i18n}}</span>
            <nz-row>
                <nz-radio-group [(ngModel)]="selectedValueRadio" (ngModelChange)="onChangeStatus()"
                                formControlName="radio">
                    <label nz-radio nzValue="VM" class="label">Backup VM</label>
                    <label nz-radio nzValue="VOLUME" class="label">Backup Volume</label>
                </nz-radio-group>
            </nz-row>
        </nz-card>
    </form>
    <div *ngIf="selectedValueRadio === 'VM'">
        <one-portal-schedule-backup-vm [region]="region"
                                        [project]="project"
                                        [instanceId]="instanceId"/>
    </div>
    <div *ngIf="selectedValueRadio === 'VOLUME'" >
        <one-portal-schedule-backup-volume [region]="region"
                                           [project]="project"
                                           [id]="id"/>
    </div>
</nz-content>
