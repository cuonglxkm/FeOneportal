<page-header [breadcrumb]="breadcrumb" [action]="action" [title]="'Lập lịch Backup'">
  <ng-template #breadcrumb>
    <nz-breadcrumb>
      <nz-breadcrumb-item>Home</nz-breadcrumb-item>
      <nz-breadcrumb-item>Dịch vụ</nz-breadcrumb-item>
      <nz-breadcrumb-item routerLink="/app-smart-cloud/schedule/list">Lập lịch Backup</nz-breadcrumb-item>
    </nz-breadcrumb>
  </ng-template>
  <ng-template #action>
    <div class="alain-custom-action text-right">
      <share-users-combobox></share-users-combobox>
      <region-select-dropdown (valueChanged)="regionChanged($event)"></region-select-dropdown>
      <project-select-dropdown (userChanged)="userChanged($event)"
                               (valueChanged)="projectChanged($event)"
                               [regionId]="region"></project-select-dropdown>
    </div>
    </ng-template>
</page-header>
<nz-content>
    <form nz-form [formGroup]="validateForm" nzLayout="vertical">
        <!--    <nz-card>-->
        <nz-card>
            <span class="text-card-header">Tạo lịch Backup</span>
            <nz-row>
                <nz-radio-group [(ngModel)]="selectedValueRadio" (ngModelChange)="onChangeStatus()"
                                formControlName="radio">
                    <label nz-radio nzValue="VM" class="label">Backup VM</label>
                    <label nz-radio nzValue="VOLUME" class="label">Backup Volume</label>
                </nz-radio-group>
            </nz-row>
        </nz-card>
    </form>
    <div *ngIf="selectedValueRadio === 'VM'">
        <one-portal-schedule-backup-vm [region]="region"
                                        [project]="project"
                                        [instanceId]="instanceId"/>
    </div>
    <div *ngIf="selectedValueRadio === 'VOLUME'" >
        <one-portal-schedule-backup-volume [region]="region"
                                           [project]="project"
                                           [id]="id"/>
    </div>
</nz-content>
