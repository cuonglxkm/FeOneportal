<!--<h2>Danh sách Volume</h2>-->
<nz-page-header class="site-page-header" nzTitle="Danh sách Volume">
  <nz-breadcrumb nz-page-header-breadcrumb>
    <nz-breadcrumb-item>Home</nz-breadcrumb-item>
    <nz-breadcrumb-item><a>Dịch vụ</a></nz-breadcrumb-item>
    <nz-breadcrumb-item>Volume</nz-breadcrumb-item>
  </nz-breadcrumb>
</nz-page-header>
<br>
<div class="search-volume">
  <nz-form-label [nzFor]="'volumeStatus'">Trạng thái Volume</nz-form-label>
  <nz-select nzSize="large"
             [nzPlaceHolder]="'Tất cả trạng thái'"
             [nzOptions]="options"
             style="width: 170px;"
  >
  </nz-select>

  <nz-input-group nzSearch nzSize="large" [nzAddOnAfter]="suffixButton">
    <input type="text" nz-input placeholder="Tìm kiếm Volume" style="width: 300px; margin-left: 30px;"/>
  </nz-input-group>
  <ng-template #suffixButton>
    <button nz-button nzType="primary" nzSearch><i nz-icon [nzType]="'setting'"></i>Search</button>
  </ng-template>
  <button nz-button nzType="primary" nzSize="large" (click)="navigateToCreateVolume()"
          style="background-color: #8bbb11; margin-left: 50%;">
        <span
          nz-icon nzType="plus"
          nzTheme="outline" style="margin-left: 10px; margin-right: 10px;">
        </span>
    Tạo mới
  </button>

  <br>
  <br>
  <nz-tabset>
    <nz-tab nzTitle="Volume Root">

      <nz-table #basicTable [nzData]="listOfData">
        <thead>
        <tr>
          <th>Tên Volume</th>
          <th>Dung lượng(GB)</th>
          <th>IPOPS</th>
          <th>Trạng thái Volume</th>
          <th>Trạng thái tác vụ</th>
          <th>Máy ảo</th>
          <th>Thao tác</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of basicTable.data; let i = index">
          <td>{{ data.name }}</td>
          <td>{{ data.storage}}</td>
          <td>{{ data.iops }}</td>
          <td *ngIf="data.statusVolume === 1" style="color: #6abe39">{{ volumeStatus.get(data.statusVolume)}}</td>
          <td *ngIf="data.statusVolume === 0 || data.statusVolume === 2 || data.statusVolume === 3"
              style="color: red">{{ volumeStatus.get(data.statusVolume)}}</td>
          <td>{{ data.statusAction }}</td>
          <td>{{ data.vm }}</td>
          <td>
            <nz-select nzSize="small"
                       class="custom-background"
                       [nzPlaceHolder]="'Tạo Snapshot'"
                       [nzOptions]="optionVolumeRoot"
                       style="width: 150px;"
                       [(ngModel)]="combinedValues[i]"
                       (ngModelChange)="onSelectionChange($event , data.name)"
            >
            </nz-select>
          </td>
        </tr>
        </tbody>
      </nz-table>

    </nz-tab>
    <nz-tab nzTitle="Volume gắn thêm">

      <nz-table #basicTable [nzData]="listOfData">
        <thead>
        <tr>
          <th>Tên Volume</th>
          <th>Dung lượng(GB)</th>
          <th>IPOPS</th>
          <th>Trạng thái Volume</th>
          <th>Trạng thái tác vụ</th>
          <th>Máy ảo</th>
          <th>Thao tác</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let data of basicTable.data; let i = index">
          <td>{{ data.name }}</td>
          <td>{{ data.storage}}</td>
          <td>{{ data.iops }}</td>
          <td *ngIf="data.statusVolume === 1" style="color: #6abe39">{{ volumeStatus.get(data.statusVolume)}}</td>
          <td *ngIf="data.statusVolume === 0 || data.statusVolume === 2 || data.statusVolume === 3"
              style="color: red">{{ volumeStatus.get(data.statusVolume)}}</td>
          <td>{{ data.statusAction }}</td>
          <td>{{ data.vm }}</td>
          <td>
            <nz-select nzSize="small"
                       [nzPlaceHolder]="'Gắn Volume'"
                       [nzOptions]="optionVolumeAdd"
                       [ngStyle]="{ 'background-color': 'deepskyblue' }"
                       style="width: 150px;"
                       [(ngModel)]="combinedValues[i]"
                       (ngModelChange)="onSelectionChange($event , data.name)"
            >
            </nz-select>
          </td>
        </tr>
        </tbody>
      </nz-table>


    </nz-tab>
  </nz-tabset>
</div>
