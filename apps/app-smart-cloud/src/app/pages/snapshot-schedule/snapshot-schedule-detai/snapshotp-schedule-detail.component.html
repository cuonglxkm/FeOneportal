<page-header
  [breadcrumb]="breadcrumb"
  [action]="action"
  [title]="'Xem chi tiết lịch Snapshot'"
>
  <ng-template #breadcrumb>
    <nz-breadcrumb [nzSeparator]="separatorTemplate">
      <nz-breadcrumb-item>
        <a [routerLink]="['/']">Home</a>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item><a [routerLink]="['/']">{{ 'app.breadcrumb.home' | i18n }}</a></nz-breadcrumb-item>
      <nz-breadcrumb-item>{{'app.breadcrumb.infrastructure.service' | i18n }}</nz-breadcrumb-item>
      <nz-breadcrumb-item>Block Storage</nz-breadcrumb-item>
      <nz-breadcrumb-item><a routerLink="/app-smart-cloud/schedule/snapshot">Lịch Snapshot</a></nz-breadcrumb-item>
      <nz-breadcrumb-item>chi tiết lịch Snapshot</nz-breadcrumb-item>
    </nz-breadcrumb>
    <ng-template #separatorTemplate
      ><img src="assets/imgs/arrow-square-right.svg" alt="" />
    </ng-template>
  </ng-template>
  <ng-template #action>
    <div class="alain-custom-action text-right">
      <share-users-combobox></share-users-combobox>
      <region-select-dropdown
      (regionChange)="onRegionChanged($event)"
        (valueChanged)="onRegionChange($event)"
        [isDetail]="true"
      ></region-select-dropdown>
      <project-select-dropdown
        [regionId]="region"
        [isDetail]="true"
        (valueChanged)="onProjectChange($event)"
        (userChanged)="onUserProjectChange($event)"
      ></project-select-dropdown>
    </div>
  </ng-template>
</page-header>

<nz-card style="border-radius: 8px" [nzBordered]="false">
  <div style="margin-bottom: 20px" class="text-card-header">
    Thông tin lịch Snapshot
  </div>
  <nz-spin [nzSpinning]="isLoading" nzSize="large">
    <div *ngIf="typeProject == 1">
      <nz-form-item>
        <nz-form-label>{{ 'app.snapshot.schedule.name' | i18n }}</nz-form-label>
        <input
          nz-input
          [(ngModel)]="scheduleName"
          disabled="true"
          type="text"
          nzSize="large"
        />
      </nz-form-item>
      <nz-row nzGutter="24">
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item
          ><nz-form-label>Loại Snapshot</nz-form-label>
            <input nz-input [(ngModel)]="typeSnapshot" disabled="true" type="text" nzSize="large"/>
          </nz-form-item>
        </nz-col>
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item *ngIf="data.snapshotType == 1">
            <nz-form-label>Chọn máy ảo</nz-form-label>
            <input nz-input [(ngModel)]="data.serviceName" disabled="true" type="text" nzSize="large"
            /></nz-form-item>
          <nz-form-item *ngIf="data.snapshotType != 1">
            <nz-form-label>Chọn Volume</nz-form-label>
            <input nz-input [(ngModel)]="data.serviceName" disabled="true" type="text" nzSize="large"
            /></nz-form-item>
        </nz-col>
      </nz-row>
    </div>
    <div *ngIf="typeProject != 1">
      <nz-row nzGutter="24">
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item>
            <nz-form-label>{{ 'app.snapshot.schedule.name' | i18n }}</nz-form-label>
            <input
              nz-input
              [(ngModel)]="scheduleName"
              disabled="true"
              type="text"
              nzSize="large"
            />
          </nz-form-item>
        </nz-col>
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item
          ><nz-form-label>Loại Snapshot</nz-form-label>
            <input nz-input [(ngModel)]="typeSnapshot" disabled="true" type="text" nzSize="large"/>
          </nz-form-item>
        </nz-col>
      </nz-row>
      <nz-row nzGutter="24">
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item *ngIf="data.snapshotType == 1">
            <nz-form-label>Chọn máy ảo</nz-form-label>
            <input nz-input [(ngModel)]="data.serviceName" disabled="true" type="text" nzSize="large"
            /></nz-form-item>
          <nz-form-item *ngIf="data.snapshotType != 1">
            <nz-form-label>Chọn Volume</nz-form-label>
            <input nz-input [(ngModel)]="data.serviceName" disabled="true" type="text" nzSize="large"
            /></nz-form-item>
        </nz-col>
        <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
          <nz-form-item>
            <nz-form-label>Chọn gói Snapshot</nz-form-label>
            <input nz-input [(ngModel)]="data.packageName" disabled="true" type="text" nzSize="large"
            /></nz-form-item>
        </nz-col>
      </nz-row>
    </div>
    <nz-row nzGutter="24">
      <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
        <nz-form-item>
          <nz-form-label>Chế độ Snapshot</nz-form-label>
          <input
            nz-input
            [(ngModel)]="labelMode"
            disabled="true"
            nzSize="large"
            type="text"
        /></nz-form-item>
      </nz-col>
      <nz-col [nzLg]="12" [nzMd]="12" [nzSm]="24" [nzXl]="12" [nzXs]="24">
        <nz-form-item
          ><nz-form-label>Chọn thời điểm thực hiện Snapshot</nz-form-label>
          <nz-time-picker
            style="width: 100%; border-radius: 8px"
            [(ngModel)]="data.runtime"
            [disabled]="true"
            [ngModelOptions]="{ standalone: true }"
            nzFormat="HH:mm"
            nzSize="large"
          ></nz-time-picker>
        </nz-form-item>
      </nz-col>
    </nz-row>
    <nz-form-item>
      <nz-form-label>Số bản Snapshot lưu trữ</nz-form-label>
      <input
        nz-input
        placeholder="Chọn ngày"
        [(ngModel)]="data.maxSnapshot"
        disabled="true"
        type="text"
        nzSize="large"
      />
    </nz-form-item>
    <form nz-form [nzLayout]="'vertical'">
      <nz-form-item>
        <nz-form-label>Mô tả</nz-form-label>
        <nz-form-control>
          <nz-textarea-count [nzMaxCharacterCount]="255">
          <textarea
            rows="4"
            nz-input
            [(ngModel)]="data.description"
            disabled="true"
            [ngModelOptions]="{ standalone: true }"
          ></textarea>
          </nz-textarea-count>
        </nz-form-control>
      </nz-form-item>
    </form>
  </nz-spin>
</nz-card>
