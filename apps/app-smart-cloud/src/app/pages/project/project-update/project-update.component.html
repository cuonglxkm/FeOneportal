<page-header [breadcrumb]="breadcrumb" [action]="action" title="Điều chỉnh dự án">
  <ng-template #breadcrumb>
    <nz-breadcrumb [nzSeparator]="separatorTemplate">
      <nz-breadcrumb-item><a [routerLink]="['/']">{{ 'app.breadcrumb.home' | i18n }}</a></nz-breadcrumb-item>
      <nz-breadcrumb-item><a [routerLink]="['/app-smart-cloud/project']">{{ 'project.note1' | i18n
          }}</a></nz-breadcrumb-item>
          <nz-breadcrumb-item><a [routerLink]="['/app-smart-cloud/project/detail/' + data?.id]">{{ data?.displayName }}</a></nz-breadcrumb-item>
      <nz-breadcrumb-item>Điều chỉnh dự án</nz-breadcrumb-item>
    </nz-breadcrumb>
    <ng-template #separatorTemplate><img src="assets/imgs/arrow-square-right.svg" alt="" />
    </ng-template>
  </ng-template>
  <ng-template #action>
    <div class="alain-custom-action text-right">
      <share-users-combobox></share-users-combobox>
      <region-select-dropdown (valueChanged)="onRegionChange($event)"></region-select-dropdown>
    </div>
  </ng-template>
</page-header>
<!---------------FORM-------------->
<form nz-form [formGroup]="form" [nzLayout]="'vertical'">
  <nz-row nzGutter="24">
    <nz-col nzSpan="16">
      <div style="margin-bottom: 20px">
        <nz-card>
          <span class="text-card-header">{{ 'project.note24' | i18n }}</span>
          <div nz-row [nzGutter]="24" class="info-project">
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
              <div>
                <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Loại dự án:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold ">{{ data?.type == 'VPC' ? ('project.note4' | i18n) :
                      ('project.note5' | i18n)}}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Trạng thái:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold">{{data?.resourceStatus}}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Gói Load Balancer SDN:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold ">{{data?.type == 'VPC' ? (data?.loadbalancerOfferName==null ? '-': data?.loadbalancerOfferName) : '-'}}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Ngày khởi tạo:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">

                    <span class="label-fontsize font-bold">{{data?.type == 'VPC' ? ( data?.createDate | date :
                      'HH:mm:ss dd/MM/yyyy') : '-' }}</span>
                  </div>
                </div>
              </div>
            </div>
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
              <div class="" style="margin-left:20px">
                <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Tên dự án:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold">{{ data?.displayName }}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Dải IP Kết nối Internet:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold">{{data?.type == 'VPC' ? (data?.publicNetworkAddress==""?'-': data?.publicNetworkAddress)
                      :'-'}}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Gói VPN Site to Site:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold">{{data?.type == 'VPC' ? (data?.vpnSiteToSiteOfferName==null ? '-':data?.vpnSiteToSiteOfferName )
                      :'-'}}</span>
                  </div>
                </div>
                <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize">Ngày hết hạn:</span>
                  </div>
                  <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                    <span class="label-fontsize font-bold">{{data?.type == 'VPC' ? ( data?.expireDate | date :
                      'HH:mm:ss dd/MM/yyyy ') : '-'}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text-description">
            <label for="description" class="label-fontsize pb-3">Mô tả</label>
            <textarea name="description" id="description" rows="3" class="row-gray-bg textbox-radius-lg"
              readonly>{{data?.description}}</textarea>
          </div>
        </nz-card>

      </div>

      <!-- <nz-card class="text-label" nzTitle="" style="border-radius: 8px;">
        <div style="margin-bottom: 10px">
          <span class="text-card-header">{{ 'project.note24' | i18n }}</span>
        </div>
          <div nz-row style="display: flex; align-items: flex-end; margin-bottom: 20px;">
            <div class="text-card-header" style="font-weight: bold;margin-right: 20px">{{ 'project.note20' | i18n }}:</div>
            <div>{{data?.type == 'VPC' ? ('project.note4' | i18n) : ('project.note5' | i18n)}}</div>
          </div>
        <nz-form-item>
          <nz-form-label nzRequired>{{ 'project.note19' | i18n }}<img
            style="margin-left: 10px"
            nz-tooltip="{{ 'project.note16' | i18n }}"
            src="assets/imgs/pajamas_question.svg"
            alt=""
          /></nz-form-label>
          <nz-form-control>
            <input class="input-custom" nz-input placeholder="{{ 'content.emplty' | i18n }}" style="width: 100%"
                   formControlName="name" (change)="activeEdit()">
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label>{{ 'app.service.description' | i18n }}</nz-form-label>
          <nz-form-control>
          <textarea maxlength="1000" nz-input [nzAutosize]="{ minRows: 3 }" placeholder="{{ 'content.emplty' | i18n }}" style="width: 100%"
                    formControlName="description" (change)="activeEdit()"></textarea>
          </nz-form-control>
        </nz-form-item>
        <div class="text-label mb-3">{{ 'project.note38' | i18n }}: VPC01 ({{vCPUOld}} vCPU, {{ramOld}}GB RAM, {{hhdOld}}GB HDD, {{ssdOld}}GB SSD)</div>
        <div class="text-label" style="margin-bottom: 20px">{{ 'project.note39' | i18n }}: ({{vCPU}} vCPU, {{ram}}GB RAM, {{hhd}}GB HDD, {{ssd}}GB SSD) </div>
        <div *ngIf="selectIndexTab == 0">
          <ngu-carousel #myCarouselFlavor
                        [inputs]="carouselTileConfig"
                        [dataSource]="listOfferFlavors"
          >
            <ngu-tile
              *nguCarouselDef="let item; index as i; let ani = animate"
              [@slider]="ani"
            >
              <div
                style="cursor: pointer"
                (click)="onInputFlavors(item.id, item.offerName);"
                [id]="'flavor_' + item.id"
              >
                <nz-row>
                  <nz-col
                    style="padding-bottom: 5px"
                    class="newClassFlavor text-center"
                    [class.initialClassFlavor]="
                        selectedElementFlavor === 'flavor_' + item.id
                      "
                  >
                    <div style="position: relative;">
                        <span
                          class="nameFlavor"
                          [class.initialNameFlavor]="
                            selectedElementFlavor === 'flavor_' + item.id
                          "
                        >{{ item.offerName }}</span
                        >
                      <div style="margin-top: -16px">
                        <img
                          style="width: 100px"
                          [src]="
                              selectedElementFlavor === 'flavor_' + item.id
                                ? 'assets/imgs/line2.svg'
                                : 'assets/imgs/line.svg'
                            "
                          alt=""
                        />
                      </div>
                      <span class="priceFlavor">{{
                          item.price.fixedPrice.amount | number:'1.0-0':'en-US'
                        }}</span
                      ><span> {{"app.payment-detail.month" | i18n}}</span>
                    </div>
                    <div style="z-index: 1;position: absolute; right: -5px; top: -5px;">
                      <img src="assets/imgs/mostpop.svg">
                    </div>
                  </nz-col>
                </nz-row>
                <nz-row>
                  <nz-col
                    style="width: 100%; padding-top: 5px"
                    [class.flavor-footer-active]="
                        selectedElementFlavor === 'flavor_' + item.id
                      "
                    [class.flavor-footer]="
                        selectedElementFlavor != 'flavor_' + item.id
                      "
                  >
                    <div>
                      <p>{{ item.description }}</p>
                    </div>
                  </nz-col>
                </nz-row>
              </div>
            </ngu-tile>

            <ul class="myPoint" NguCarouselPoint>
              <li
                *ngFor="let i of myCarouselFlavor.pointNumbers"
                [class.active]="i === myCarouselFlavor.activePoint"
                (click)="myCarouselFlavor.moveTo(i)"
              ></li>
            </ul>
          </ngu-carousel>
        </div>
        <div *ngIf="selectIndexTab == 1">
          <div class="ant-table">
            <table>
              <thead class="ant-table-thead">
              <tr>
                <th>{{ 'app.resource' | i18n }}</th>
                <th>{{ 'app.payment-detail.quantity' | i18n }}</th>
                <th>{{ 'app.money.price' | i18n }}</th>
              </tr>
              </thead>
              <tbody class="ant-table-tbody">
              <tr>
                <td width="60%">
                  VCPU (<span class="text-red">*</span>)
                  <nz-slider
                    [nzMin]="1"
                    [nzMax]="1000"
                    [(ngModel)]="vCPU"
                    (ngModelChange)="calculate()"
                    [ngModelOptions]="{standalone: true}"
                  ></nz-slider>
                </td>
                <td width="20%">
                  <nz-input-number [(ngModel)]="vCPU"
                                   (ngModelChange)="calculate()"
                                   [ngModelOptions]="{standalone: true}"
                                   [nzMin]="1" [nzMax]="1000" [nzStep]="1" nzSize="large"></nz-input-number>
                </td>
                <td width="20%">
                  <div class="text-right">{{ price.vcpu }} VND</div>
                  <div class="text-right" style="opacity: 0.5;">{{ price.vcpuPerUnit }} VND</div>
                </td>
              </tr>
              <tr>
                <td width="60%">
                  RAM (GB) (<span class="text-red">*</span>)
                  <nz-slider
                    [nzMin]="1"
                    [nzMax]="1000"
                    [(ngModel)]="ram"
                    (ngModelChange)="calculate()"
                    [ngModelOptions]="{standalone: true}"
                  ></nz-slider>
                </td>
                <td width="20%">
                  <nz-input-number [(ngModel)]="ram"
                                   (ngModelChange)="calculate()"
                                   [ngModelOptions]="{standalone: true}"
                                   [nzMin]="1" [nzMax]="62" [nzStep]="1" nzSize="large"></nz-input-number>
                </td>
                <td width="20%">
                  <div class="text-right">{{ price.ram }} VND</div>
                  <div class="text-right" style="opacity: 0.5;">{{ price.ramPerUnit }} VND</div>
                </td>
              </tr>
              <tr>
                <td width="60%">
                  {{"volume.table.title.storage" | i18n}} HDD (GB)
                  <nz-slider
                    [nzMin]="1"
                    [nzMax]="1000"
                    [(ngModel)]="hhd"
                    [ngModelOptions]="{standalone: true}"
                    (ngModelChange)="calculate()"
                  ></nz-slider>
                </td>
                <td width="20%">
                  <nz-input-number [(ngModel)]="hhd"
                                   (ngModelChange)="calculate()"
                                   [ngModelOptions]="{standalone: true}"
                                   [nzMin]="1" [nzMax]="62" [nzStep]="1" nzSize="large"></nz-input-number>
                </td>
                <td width="20%">
                  <div class="text-right">{{ price.hhd }} VND</div>
                  <div class="text-right" style="opacity: 0.5;">{{ price.hhdPerUnit }} VND</div>
                </td>
              </tr>
              <tr>
                <td width="60%">
                  {{"volume.table.title.storage" | i18n}} SSD (GB)
                  <nz-slider
                    [nzMin]="1"
                    [nzMax]="1000"
                    [(ngModel)]="ssd"
                    (ngModelChange)="calculate()"
                    [ngModelOptions]="{standalone: true}"
                  ></nz-slider>
                </td>
                <td width="20%">
                  <nz-input-number [(ngModel)]="ssd"
                                   [ngModelOptions]="{standalone: true}"
                                   (ngModelChange)="calculate()"
                                   [nzMin]="1" [nzMax]="62" [nzStep]="1" nzSize="large"></nz-input-number>
                </td>
                <td width="20%">
                  <div class="text-right">{{ price.ssd }} VND</div>
                  <div class="text-right" style="opacity: 0.5;">{{ price.ssdPerUnit }} VND</div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
        <nz-row style="margin-top: 20px;margin-bottom: 10px;" nzGutter="16">
          <nz-col nzLg="24" nzMd="12" nzSm="24">
            <nz-form-item style="margin-bottom: 5px">
              <nz-form-label
              >{{"time.used" | i18n}} (<span class="text-red">*</span>) -
                {{"app.month" | i18n}}
              </nz-form-label
              >
              <nz-form-control>
                <nz-row>
                  <nz-input-number style="width: 50%; margin-left: -1px" [nzMin]="1" [nzMax]="100" [nzStep]="1"
                                   formControlName="numOfMonth" (ngModelChange)="onChangeTime()"
                                   nzSize="large"></nz-input-number>
                  <div class="text-label" style="display: flex; margin-left: 20px;align-items: center;">
                    {{"volume.table.title.create.date" | i18n}}: {{ today | date : 'dd/MM/yyyy' }}
                  </div>
                </nz-row>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
        </nz-row>

        <div class="text-label" style="color: red;">
          {{"volume.table.title.expire.date" | i18n}}: {{ expiredDate | date : 'dd/MM/yyyy' }}
        </div>
      </nz-card> -->

      <!-- Thông tin cấu hình -->
      <nz-card>
        <span class="text-card-header ">Thông tin cấu hình</span>
        <div class="text-label mb-3 mt-3">{{ 'project.note38' | i18n }}: VPC01 ({{vCPUOld}} vCPU, {{ramOld}}GB RAM,
          {{hhdOld}}GB HDD, {{ssdOld}}GB SSD)</div>
        <div class="text-label" style="margin-bottom: 20px">{{ 'project.note39' | i18n }}: ({{vCPUOld+vCPU}} vCPU, {{ramOld+ram}}GB
          RAM, {{hhdOld+hhd}}GB HDD, {{ssdOld+ssd}}GB SSD) </div>

        <div>
          <nz-tabset nzCentered nzSize="large"  (nzSelectChange)="changeTab($event)">
            <!-- *ngIf="checkPackage" -->
            <nz-tab nzTitle="{{ 'config.package' | i18n }}"   *ngIf="checkPackage">
              <ngu-carousel #myCarouselFlavor [inputs]="carouselTileConfig" [dataSource]="listOfferByTypeName"  class="preconfigured-package">
                <ngu-tile *nguCarouselDef="let item; index as i; let ani = animate" [@slider]="ani">
                  <div style="cursor: pointer" (click)="onInputFlavors(item.id,item.offerName);"
                    [id]="'flavor_' + item.id">
                    <nz-row>
                      <nz-col style="padding-bottom: 5px" class="newClassFlavor text-center"
                        [class.initialClassFlavor]=" selectedElementFlavor === 'flavor_' + item.id">
                        <div style="position: relative;">
                          <span class="nameFlavor"
                            [class.initialNameFlavor]="selectedElementFlavor === 'flavor_' + item.id">{{ item.offerName
                            }}</span>
                          <div style="margin-top: -16px">
                            <img style="width: 80%"
                              [src]="selectedElementFlavor === 'flavor_' + item.id? 'assets/imgs/line2.svg': 'assets/imgs/line.svg'"
                              alt="" />
                          </div>
                          <span class="priceFlavor">{{ item.price.fixedPrice.amount | number:'1.0-0':'en-US' }}</span>
                          <span> {{ "app.payment-detail.month" | i18n }}</span>


                          <div style="z-index: 1;position: absolute; right: -5px; top: -5px;">
                            <img src="assets/imgs/mostpop.svg">
                          </div>                    
                        </div>
                      </nz-col>
                    </nz-row>

                    <nz-row>
                      <nz-col style="width: 100%; padding-top: 5px"
                        [class.flavor-footer-active]="selectedElementFlavor === 'flavor_' + item.id"
                        [class.flavor-footer]="selectedElementFlavor != 'flavor_' + item.id">
                        <div>
                          <p>{{ item.description }}</p>
                        </div>
                      </nz-col>
                    </nz-row>
                  </div>
                </ngu-tile>

                <ul class="myPoint" NguCarouselPoint>
                  <li *ngFor="let i of myCarouselFlavor?.pointNumbers"
                    [class.active]="i === myCarouselFlavor?.activePoint" (click)="myCarouselFlavor?.moveTo(i)"></li>
                </ul>
              </ngu-carousel>
            </nz-tab>
            <nz-tab nzTitle="{{ 'custom.config.package' | i18n }}" >
              <div class="ant-table">
                <table>
                  <thead class="ant-table-thead">
                    <tr>
                      <th>{{ 'app.resource' | i18n }}</th>
                      <th>{{ 'app.payment-detail.quantity' | i18n }}</th>
                      <th>Thành tiền/Đơn giá (VND)</th>
                    </tr>
                  </thead>
                  <tbody class="ant-table-tbody">
                    <tr>
                      <td width="60%">
                        VCPU (<span class="text-red">*</span>)
                        <nz-slider [nzMin]="0" [nzStep]="1" [nzMax]="1000" [(ngModel)]="vCPU"  (ngModelChange)="calculate()"
                          [ngModelOptions]="{standalone: true}"></nz-slider>
                      </td>
                      <td width="20%">
                        <nz-input-number [(ngModel)]="vCPU" (keydown)="checkPossiblePress($event)"  (ngModelChange)="calculate()"
                          [ngModelOptions]="{standalone: true}" [nzMin]="0" [nzMax]="1000" [nzStep]="1"
                          nzSize="large"></nz-input-number>
                      </td>
                      <td width="20%">
                        <div class="text-right">{{ price.vcpu |formatPrice}} </div>
                        <div class="text-right" style="opacity: 0.5;">{{ price.vcpuPerUnit |formatPrice}} </div>
                      </td>
                    </tr>
                    <tr>
                      <td width="60%">
                        RAM (GB) (<span class="text-red">*</span>)
                        <nz-slider [nzMin]="0" [nzMax]="1000" [(ngModel)]="ram" [nzStep]="1"
                          [ngModelOptions]="{standalone: true}"></nz-slider>
                      </td>
                      <td width="20%">
                        <nz-input-number [(ngModel)]="ram" (keydown)="checkPossiblePress($event)" 
                          [ngModelOptions]="{standalone: true}" [nzMin]="0" [nzStep]="1" [nzMax]="1000" (ngModelChange)="calculate()"
                          nzSize="large"></nz-input-number>
                      </td>
                      <td width="20%">
                        <div class="text-right">{{ price.ram |formatPrice}} </div>
                        <div class="text-right" style="opacity: 0.5;">{{ price.ramPerUnit |formatPrice}} </div>
                      </td>
                    </tr>
                    <tr>
                      <td width="60%">
                        {{ "volume.table.title.storage" | i18n }} HDD (GB)
                        <nz-slider [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock" [(ngModel)]="hhd" (ngModelChange)="onInputChange($event, 'hhd')"
                          [ngModelOptions]="{standalone: true}"></nz-slider>
                      </td>
                      <td width="20%">
                        <nz-input-number [(ngModel)]="hhd"   (keydown)="checkPossiblePress($event)"
                          [ngModelOptions]="{standalone: true}" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock"  (ngModelChange)="onInputChange($event, 'hhd')"
                          nzSize="large"></nz-input-number>
                      </td>
                      <td width="20%">
                        <div class="text-right">{{ price.hhd |formatPrice}} </div>
                        <div class="text-right" style="opacity: 0.5;">{{ price.hhdPerUnit |formatPrice}} </div>
                      </td>
                    </tr>
                    <tr>
                      <td width="60%">
                        {{ "volume.table.title.storage" | i18n }} SSD (GB)
                        <nz-slider [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock" [(ngModel)]="ssd"  (ngModelChange)="onInputChange($event, 'ssd')"
                          [ngModelOptions]="{standalone: true}"></nz-slider>
                      </td>
                      <td width="20%">
                        <nz-input-number [(ngModel)]="ssd" (keydown)="checkPossiblePress($event)" (ngModelChange)="onInputChange($event, 'ssd')"
                          [ngModelOptions]="{standalone: true}" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock"
                          nzSize="large"></nz-input-number>
                      </td>
                      <td width="20%">
                        <div class="text-right">{{ price.ssd |formatPrice}} </div>
                        <div class="text-right" style="opacity: 0.5;">{{ price.ssdPerUnit |formatPrice}} </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </nz-tab>
          </nz-tabset>
         <div class="mt-3" style="padding:16px 16px">
          <p class="label-fontsize">Ngày điều chỉnh: {{dateNow|date : 'dd/MM/yyyy'}}</p>
         </div>
        </div>
      </nz-card> 
      <!---------------CARD-NW-------------->
      <nz-card style="border-radius: 8px">
        <div style="margin-bottom: 20px"><span class="text-card-header">Networks</span></div>
        <div class="netword-card">
          <div nz-row [nzGutter]="24">
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
              <form nz-form>
                  <nz-form-label class="label-fontsize text-label">{{ "app.order-detail.quantity" | i18n }}
                    Network</nz-form-label>
                  <nz-form-control>
                    <input nz-input type="text" [(ngModel)]="numberNetwork" readonly class="custom-input" name="numberNetwork"
                      disabled />
                  </nz-form-control>
              </form>
            </div>
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12" >
              <form nz-form>
                  <nz-form-label class="label-fontsize text-label">{{ 'app.payment-detail.quantity' | i18n }}
                    Routers</nz-form-label>
                  <nz-form-control>
                    <input nz-input type="text" [(ngModel)]="numberRouter" readonly class="custom-input"
                      name="numberRouter" disabled />
                  </nz-form-control>
              </form>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" class="input-network mt-3">
              <form nz-form>
                  <nz-form-label class="label-fontsize text-label">{{ 'app.payment-detail.quantity' | i18n }} Security
                    Group</nz-form-label>
                  <nz-form-control>
                    <input nz-input type="text" [(ngModel)]="numberSecurityGroup" readonly class="custom-input" name="sgNnumberSecurityGroupormal"
                      disabled />
                  </nz-form-control>
              </form>
            </div>
          </div>
        </div>
        <!-- <div *ngIf="selectIndexTab == 0">
          <nz-form-item>
            <nz-form-label>{{"project.note41" | i18n}} (<span class="text-red">*</span>)
              <img style="margin-left: 10px" nz-tooltip="{{'project.note41' | i18n}}"
                src="assets/imgs/pajamas_question.svg" alt="" /></nz-form-label>
            <nz-form-control>
              <nz-input-group nzCompact>
                <nz-select nzSize="large" [nzLoading]="false" [nzDisabled]="false"
                  style="width: 95%; margin-left: -1px;border-radius: 10px;"
                  nzPlaceHolder="--{{'project.note41' | i18n}}--" formControlName="ipType" (nzOpenChange)="calculate()">
                  <nz-option *ngFor="let i of listIpType" [nzLabel]="i.label" [nzValue]="i.value" />
                </nz-select>
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div *ngIf="selectIndexTab == 1">
          <div>
            <nz-row *ngIf="ipConnectInternet != 'loading data....' && ipConnectInternet != 'No Ip Connect Internet'">
              <nz-form-item style="width: 80%">
                <nz-form-label>{{"app.order-detail.quantity" | i18n}} IP Floating</nz-form-label>
                <nz-form-control>
                  <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                    (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpFloating" (ngModelChange)="calculate()"
                    [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item style="width: 20%">
                <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                  ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                <nz-form-control>
                  <div class="centered">
                    <p class="text-custom-price" style="width: 90%;">
                      {{ price.IpFloating }} <span style="color: black;">đ</span>
                    </p>
                  </div>
                </nz-form-control>
              </nz-form-item>
            </nz-row>
            <nz-row>
              <nz-form-item style="width: 80%">
                <nz-form-label>{{"app.order-detail.quantity" | i18n}} IP Public</nz-form-label>
                <nz-form-control>
                  <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                    (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpPublic" (ngModelChange)="calculate()"
                    [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item style="width: 20%">
                <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                  ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                <nz-form-control>
                  <div class="centered">
                    <p class="text-custom-price" style="width: 90%;">
                      {{ price.IpPublic }} <span style="color: black;">đ</span>
                    </p>
                  </div>
                </nz-form-control>
              </nz-form-item>
            </nz-row>
            <nz-row>
              <nz-form-item style="width: 80%">
                <nz-form-label>{{"app.order-detail.quantity" | i18n}} IPv6</nz-form-label>
                <nz-form-control>
                  <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                    (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpv6" (ngModelChange)="calculate()"
                    [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item style="width: 20%">
                <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                  ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                <nz-form-control>
                  <div class="centered">
                    <p class="text-custom-price" style="width: 90%;">
                      {{ price.IpV6 }} <span style="color: black;">đ</span>
                    </p>
                  </div>
                </nz-form-control>
              </nz-form-item>
            </nz-row>
          </div>
        </div>
        <p>{{"project.note43" | i18n}}</p> -->
      </nz-card>
      <nz-card>
        <div class="d-flex " style="justify-content: space-between; align-items: center;">
          <div style="align-items: center" class="d-flex"><span class="text-card-header">Dịch vụ bổ sung</span></div>
          <div>
            <one-portal-svg-icon (click)="toggleBonusService()" [icon]="iconToggle" class="btn-view-service" ></one-portal-svg-icon>
          </div>
        </div>
        <div *ngIf="activeBonusService">
          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">IP</span></div>
              <one-portal-svg-icon *ngIf="trashIP" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteIP()"></one-portal-svg-icon>
            </div>
            <p class="label-fontsize label-color">Số lượng IP Floating hiện tại: {{ipFloatingOld}}GB</p>
            <p class="label-fontsize label-color">Số lượng IP Public hiện tại: {{ipPublicOld}}GB</p>
            <p class="label-fontsize label-color">Số lượng IP Pv6 hiện tại: {{ipv6Old}}GB</p>
            <div *ngIf="!activeIP">
              <button class="h-btn" nz-button nzType="default" (click)="initIP()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }} IP
              </button>
            </div>
            <div *ngIf="activeIP">
              <nz-form-item>
                <nz-form-label class="custom-label">Chọn dải IP kết nối Internet</nz-form-label>
              
                <nz-form-control>
                  <nz-input-group nzCompact>
                    <nz-select nzSize="large" [nzLoading]="loadingIpConnectInternet"
                      [nzDisabled]="disableIpConnectInternet"
                      style="width: 60%; margin-left: -1px;border-radius: 10px;" 
                      nzPlaceHolder="--{{'project.note40' | i18n}}--" [(ngModel)]="ipConnectInternet"
                      [ngModelOptions]="{standalone: true}" >
                      <!-- (ngModelChange)="openIpSubnet()" -->
                      <nz-option nzLabel="Không sử dụng"
                        nzValue="" />
                      <nz-option *ngFor="let i of listIpConnectInternet" [nzLabel]="i.displayName"
                        [nzValue]="i.networkId +'--'+ i.displayName" />
                    </nz-select>
                  </nz-input-group>
                </nz-form-control>

              </nz-form-item>   
              <div >
                <nz-row *ngIf="ipConnectInternet != ''">
                <!-- <nz-row *ngIf="ipConnectInternet != null && ipConnectInternet != ''"> -->
                  <nz-form-item style="width: 60%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IP Floating</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpFloating"
                        (ngModelChange)="calculate(null)" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 40%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                    
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price" >
                          {{ price.IpFloating |formatPrice}} 
                        </p>
                        <p class=" text-price-unit" >
                          {{ price.IpFloatingUnit |formatPrice}} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
                <nz-row>
                  <nz-form-item style="width: 60%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IP Public</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpPublic"
                        (ngModelChange)="calculate(null)" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 40%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price" >
                          {{ price.IpPublic |formatPrice}} 
                        </p>
                        <p class=" text-price-unit" >
                          {{ price.IpPublicUnit |formatPrice}} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
                <nz-row>
                  <nz-form-item style="width: 60%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IPv6</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpv6" (ngModelChange)="calculate(null)"
                        [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 40%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá
                      ({{ "app.payment-detail.month" | i18n }})
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price" >
                          {{ price.IpV6 |formatPrice}} 
                        </p>
                        <p class=" text-price-unit" >
                          {{ price.IpV6Unit |formatPrice}} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
              </div> 
              <!-- <div >
                <nz-row *ngIf="ipConnectInternet != null && ipConnectInternet != ''">
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IP Floating</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpFloating"
                        (ngModelChange)="calculate(null)" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá
                      ({{ "app.payment-detail.month" | i18n }})
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price " >
                          {{ price.IpFloating }} 
                        </p>
                        <p class="text-price-unit " >
                          {{ price.IpFloatingUnit }} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
                <nz-row>
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IP Public</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpPublic"
                        (ngModelChange)="calculate(null)" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá
                      ({{ "app.payment-detail.month" | i18n }})
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price" >
                          {{ price.IpPublic }} 
                        </p>
                        <p class="text-price-unit" >
                          {{ price.IpPublicUnit }} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
                <nz-row>
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }} IPv6</nz-form-label>
                    <nz-form-control>
                      <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberIpv6" (ngModelChange)="calculate(null)"
                        [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item style="width: 50%">
                    <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá
                      ({{ "app.payment-detail.month" | i18n }})
                    </nz-form-label>
                    <nz-form-control>
                      <div class="centered">
                        <p class="text-custom-price" >
                          {{ price.IpV6 }} 
                        </p>
                        <p class="text-price-unit" >
                          {{ price.IpV6Unit }} 
                        </p>
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </nz-row>
              </div>        -->
            </div>
            <nz-alert class="ant-alert-warning-custom" nzType="warning" nzDescription="Mua bổ sung IP giúp thuận tiện hơn trong quá trình sử dụng các dịch vụ của VNPT Cloud"
              nzShowIcon></nz-alert>
          </div>
          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">Snapshot</span></div>
              <one-portal-svg-icon *ngIf="trashSnapshot" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteSnapshot()"></one-portal-svg-icon>
            </div>
            <p class="label-fontsize label-color">Dung lượng HDD hiện tại: {{snapshothddOld}}GB</p>
            <p class="label-fontsize label-color">Dung lượng SSD hiện tại: {{snapshotssdOld}}GB</p>
            <div *ngIf="!activeSnapshot">
              <button class="h-btn" nz-button nzType="default" (click)="initSnapshot()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }} Snapshot
              </button>
            </div>
            <div *ngIf="activeSnapshot">
              <div class="ant-table">
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label"> Dung lượng HDD (GB)</nz-form-label>
                      <nz-form-control>
                        <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock" name="snapshothdd"
                        (keydown)="checkPossiblePress($event)"
                          [(ngModel)]="numberSnapshothdd"
                          (ngModelChange)="onInputChange($event, 'snapshothdd')" [ngModelOptions]="{ standalone: true }"
                          nzSize="large"></nz-input-number>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                        
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                           {{price.snapshothdd |formatPrice}}
                          </p>
                          <p class=" text-price-unit" >
                            {{price.snapshothddUnit |formatPrice}}
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label"> Dung lượng SSD (GB)</nz-form-label>
                      <nz-form-control>
                        <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock" name="snapshotssd"
                        (keydown)="checkPossiblePress($event)"
                          [(ngModel)]="numberSnapshotssd"
                          (ngModelChange)="onInputChange($event, 'snapshotssd')" [ngModelOptions]="{ standalone: true }"
                          nzSize="large"></nz-input-number>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                        
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                           {{price.snapshotssd |formatPrice}}
                          </p>
                          <p class=" text-price-unit" >
                            {{price.snapshotssdUnit |formatPrice}}
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            
            <nz-alert class="ant-alert-warning-custom" nzType="warning" nzDescription="Giúp người dùng lưu lại trạng thái hiện tại của Volume/VM. Người dùng có thể sử dụng để sao lưu volume trước khi thực hiện 1 thao tác rủi ro đến dữ liệu trên VM."
              nzShowIcon></nz-alert>
          </div>
          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">Backup</span></div>             
              <one-portal-svg-icon *ngIf="trashBackup" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteBackup()"></one-portal-svg-icon>
            </div>
              <p class="label-fontsize label-color">Dung lượng Backup hiện tại: {{backupOld}}GB</p>
            <div *ngIf="!activeBackup">
              <button class="h-btn" nz-button nzType="default" (click)="initBackup()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }} Backup
              </button>
            </div>
            <div *ngIf="activeBackup">
              <div class="ant-table">
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">{{ "volume.table.title.storage" | i18n }} Backup Volume/VM (GB)</nz-form-label>
                      <nz-form-control>
                        <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock" name="backup"
                          [(ngModel)]="numberBackup"  (keydown)="checkPossiblePress($event)"
                          (ngModelChange)="onInputChange($event, 'backup')" [ngModelOptions]="{ standalone: true }"
                          nzSize="large"></nz-input-number>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                       
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{ price.backup | formatPrice}} 
                          </p>
                          <p class=" text-price-unit" >
                            {{ price.backupUnit | formatPrice}} 
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            
            <nz-alert class="ant-alert-warning-custom" nzType="warning" nzDescription="{{'project.note47' | i18n}}"
              nzShowIcon></nz-alert>
          </div>

          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">Load Balancer</span></div>
              <one-portal-svg-icon *ngIf="trashLoadBalancer" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteLoadBalancer()"></one-portal-svg-icon>
            </div>
            <p class="label-fontsize label-color"> Số lượng Load Balancer hiện tại: {{loadBalancerOld}} GB - Gói: {{loadbalancerOfferNameOld}}</p>
            <div *ngIf="!activeLoadBalancer">
              <button class="h-btn" nz-button nzType="default" (click)="initLoadBalancer()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }} Load Balancer
              </button>
            </div>
           
            <div *ngIf="activeLoadBalancer">
              <div class="ant-table">
                <table>
                  <td style="width:30%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">{{ "app.order-detail.quantity" | i18n }}
                       
                      </nz-form-label>
                      <nz-form-control>
                        <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                          (keydown)="checkPossiblePress($event)" [(ngModel)]="numberLoadBalancer"
                          (ngModelChange)="calculate(null)" [ngModelOptions]="{ standalone: true }"
                          nzSize="large"></nz-input-number>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:30%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">Chọn gói</nz-form-label>
                      <nz-form-control>
                        <nz-input-group nzCompact>
                          <nz-select nzSize="large" [nzLoading]="false" [nzDisabled]="false"
                            style="width: 100%; margin-left: 10px;border-radius: 8px;" 
                            nzPlaceHolder="--{{'project.note49' | i18n}}--" [(ngModel)]="loadBalancerId" 
                            [ngModelOptions]="{ standalone: true }" (ngModelChange)="findNameLoadBalance($event)">
                            <nz-option *ngFor="let i of listLoadbalancer" [nzLabel]="i.offerName" [nzValue]="i.id" />
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                   
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{ price.loadBalancer | formatPrice}} 
                          </p>
                          <p class="text-price-unit" >
                            {{ price.loadBalancerUnit | formatPrice}} 
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            <nz-alert class="ant-alert-warning-custom" nzType="warning" nzDescription="{{'project.note48' | i18n}}"
              nzShowIcon></nz-alert>
          </div>

          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">File Storage</span></div>
              <one-portal-svg-icon *ngIf="trashFileStorage" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteFileStorage()"></one-portal-svg-icon>
            </div>
            <p class="label-fontsize label-color"> Dung lượng File System hiện tại: {{fileSystemOld}} GB</p>
            <p class="label-fontsize label-color">    Dung lượng FIle System Snapshot hiện tại: {{fileSnapshotOld}} GB</p>
            <div *ngIf="!activeFileStorage">
              <button class="h-btn" nz-button nzType="default" (click)="initFileStorage()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }} File Storage
              </button>
            </div>
           
            <div *ngIf="activeFileStorage">
              <div class="ant-table">
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">{{ "volume.table.title.storage" | i18n }} File System (GB)</nz-form-label>
                      <nz-form-control>
                        <nz-row>
                          <nz-input-number style="width: 100%;margin-left: -1px" [nzMin]="minBlock" [nzStep]="stepBlock" [nzMax]="maxBlock"
                           [(ngModel)]="numberFileSystem"
                            (ngModelChange)="onInputChange($event, 'fileSystem')" [ngModelOptions]="{ standalone: true }"
                            nzSize="large"></nz-input-number>
                        </nz-row>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                     
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{ price.fileStorage  | formatPrice}} 
                          </p>
                          <p class="text-price-unit" >
                            {{ price.fileStorageUnit  | formatPrice}} 
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">{{ "volume.table.title.storage" | i18n }} File System
                        Snapshot(GB)</nz-form-label>
                      <nz-form-control>
                        <nz-row>
                          <nz-input-number style="width: 100%; margin-left: -1px" [nzMin]="minBlock" [nzMax]="maxBlock"
                            [nzStep]="stepBlock"  [(ngModel)]="numberFileScnapsshot"
                            (ngModelChange)="onInputChange($event, 'fileSnapshot')" [ngModelOptions]="{ standalone: true }"
                            nzSize="large"></nz-input-number>
                        </nz-row>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                     
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{ price.filestorageSnapshot | formatPrice }} 
                          </p>
                          <p class="text-price-unit" >
                            {{ price.filestorageSnapshotUnit  | formatPrice}} 
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            <nz-alert class="ant-alert-warning-custom" nzType="warning" nzDescription="{{'project.note44' | i18n}}"
              nzShowIcon></nz-alert>
          </div>

          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">VPN site to site</span></div>
              <one-portal-svg-icon *ngIf="trashVpnSiteToSite" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteVpnSiteToSite()"></one-portal-svg-icon>
            </div>
            <p class="label-fontsize label-color">  Gói VPN site to site : {{vpnsitetositeNameOld}}</p>
            <div *ngIf="!activeSiteToSite">
              <button class="h-btn" nz-button nzType="default" (click)="initVpnSiteToSite()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }}
                VPN site to site
              </button>
            </div>
           
            <div *ngIf="activeSiteToSite">
              <div class="ant-table">
                <table>
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">Chọn gói</nz-form-label>
                      <nz-form-control>
                        <nz-select nzSize="large" [nzLoading]="false" [nzDisabled]="false"
                          style="width: 100%;border-radius: 10px;" 
                          nzPlaceHolder="--{{'project.note45' | i18n}}--" [(ngModel)]="siteToSiteId"
                          [ngModelOptions]="{ standalone: true }" (ngModelChange)="findNameSiteToSite($event)">
                          <nz-option *ngFor="let i of listSiteToSite" [nzLabel]="i.offerName" [nzValue]="i.id" />
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND)
                     
                      </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{ price.siteToSite | formatPrice}} 
                          </p>
                          <p class="text-price-unit" >
                            {{ price.siteToSiteUnit | formatPrice}} 
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            <nz-alert class="ant-alert-warning-custom" (click)="initVpnSiteToSite()" nzType="warning"
              nzDescription="{{'project.note46' | i18n}}" nzShowIcon></nz-alert>
          </div>

          <div class="bonus-services">
            <div class="title-bonus-services">
              <div><span class="text-card-header">VM GPU</span></div>
              <one-portal-svg-icon *ngIf="trashVpnGpu" [icon]="'icon_trash'" class="icon-trash"
                (click)="deleteVpnGpu()"></one-portal-svg-icon>
            </div>
           
            <p class="label-fontsize label-color" *ngFor="let gpu of gpuOld"> Số lượng GPU (Type-{{gpu.GpuType}}): {{gpu.GpuCount}}GB</p>
            <div *ngIf="!activeVpnGpu">
              <button class="h-btn" nz-button nzType="default" (click)="initVpnGpu()">
                <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{ "app.bonus" |
                i18n }}
                VM GPU
              </button>
            </div>
            
            <div *ngIf="activeVpnGpu">
              <div class="ant-table">
                <table *ngFor="let typeCatelog of gpuQuotasGobal;let i = index;trackBy:trackById">
                  <td style="width:60%">
                    <nz-form-item>
                      <nz-form-label class="custom-label">Số lượng GPU (Type - {{typeCatelog?.GpuType}})</nz-form-label>
                      <nz-form-control>
                        <nz-input-number  style="width: 100%; margin-left: -1px" nzMin="0" nzStep="1"  name="gpu"
                          [(ngModel)]="gpuQuotasGobal[i].GpuCount"
                          (ngModelChange)="getValues(i,gpuQuotasGobal?.[i]?.GpuCount)" 

                          [ngModelOptions]="{ standalone: true }"
                          nzSize="large"
                          ></nz-input-number>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                  <td style="width:40%">
                    <nz-form-item>
                      <nz-form-label class="custom-label" style="text-align: right">Thành tiền/Đơn giá (VND) </nz-form-label>
                      <nz-form-control>
                        <div class="centered">
                          <p class="text-custom-price" >
                            {{typeCatelog?.GpuPrice  |formatPrice}}
                          </p>
                          <p class="text-price-unit" >
                            {{typeCatelog?.GpuPriceUnit  |formatPrice}}
                          </p>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </td>
                </table>
              </div>
            </div>
            <nz-alert class="ant-alert-warning-custom"  nzType="warning"
              nzDescription="Giải pháp giúp tăng tốc độ xử lý cho nhiều tác vụ tính toán và đồ họa phức tạp, đồng thời cung cấp khả năng xử lý hiệu quả cho hàng ngàn luồng dữ liệu cùng lúc." nzShowIcon></nz-alert>
          </div>
        </div>

      </nz-card>

      <!---------------CARD-BACKUP-------------->
      <!-- <nz-card style="border-radius: 8px">
        <div style="margin-bottom: 20px"><span class="text-card-header">Backup</span></div>
        <div *ngIf="!activeBackup">
          <button style="height: 32px" nz-button nzType="default" (click)="initBackup()">
            <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{"app.bonus" | i18n}}
            Backup
          </button>
        </div>
        <div *ngIf="activeBackup">
          <div class="ant-table">
            <table>
              <td style="width:80%">
                <nz-form-item>
                  <nz-form-label>{{"volume.table.title.storage" | i18n}} Backup Volume/VM (GB)</nz-form-label>
                  <nz-form-control>
                    <nz-input-number style="width: 96%; margin-left: -1px" [nzMin]="0" [nzStep]="20"
                      (keydown)="checkPossiblePress($event)" [(ngModel)]="numberBackup" (ngModelChange)="calculate()"
                      [ngModelOptions]="{ standalone: true }" nzSize="large"></nz-input-number>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:20%">
                <nz-form-item>
                  <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                    ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                  <nz-form-control>
                    <div class="centered">
                      <p class="text-custom-price" style="width: 90%;">
                        {{ price.backup }} <span style="color: black;">đ</span>
                      </p>
                    </div>
                  </nz-form-control>
                </nz-form-item>
              </td>
            </table>
          </div>
        </div>
        <nz-alert class="ant-alert-warning-custom" (click)="initBackup()" nzType="warning" nzDescription="Với các ứng dụng cần bảo vệ dữ liệu và duy trì hiệu suất hệ thống, nên sử dụng Backup - sao lưu định kỹ để đảm bảo an toàn và
          khả năng khôi phục nhanh chóng khi cần thiết" nzShowIcon></nz-alert>
      </nz-card> -->

      <!---------------CARD-LOAD_BALANCER-------------->
      <!-- <nz-card style="border-radius: 8px">
        <div style="margin-bottom: 20px"><span class="text-card-header">Load Balancer</span></div>
        <div *ngIf="!activeLoadBalancer">
          <button style="height: 32px" nz-button nzType="default" (click)="initLoadBalancer()">
            <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{"app.bonus" | i18n}}
            Load
            Balancer
          </button>
        </div>
        <div *ngIf="activeLoadBalancer">
          <div class="ant-table">
            <table>
              <td style="width:40%">
                <nz-form-item>
                  <nz-form-label>{{"app.order-detail.quantity" | i18n}}{{"app.order-detail.quantity" | i18n}} Load
                    Balancer</nz-form-label>
                  <nz-form-control>
                    <nz-input-number style="width: 90%; margin-left: -1px" [nzMin]="0" [nzStep]="1"
                      (keydown)="checkPossiblePress($event)" [(ngModel)]="numberLoadBalancer"
                      (ngModelChange)="calculate()" [ngModelOptions]="{ standalone: true }"
                      nzSize="large"></nz-input-number>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:40%">
                <nz-form-item>
                  <nz-form-label>{{'project.note49' | i18n}}</nz-form-label>
                  <nz-form-control>
                    <nz-input-group nzCompact>
                      <nz-select nzSize="large" [nzLoading]="false" [nzDisabled]="false"
                        style="width: 90%; margin-left: -1px;border-radius: 10px;"
                        nzPlaceHolder="--{{'project.note49' | i18n}}--" [(ngModel)]="loadBalancerId"
                        [ngModelOptions]="{standalone : true}" (nzOpenChange)="calculate()">
                        <nz-option *ngFor="let i of listLoadbalancer" [nzLabel]="i.offerName" [nzValue]="i.id" />
                      </nz-select>
                    </nz-input-group>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:20%">
                <nz-form-item>
                  <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                    ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                  <nz-form-control>
                    <div class="centered">
                      <p class="text-custom-price" style="width: 90%;">
                        {{ price.loadBalancer }} <span style="color: black;">đ</span>
                      </p>
                    </div>
                  </nz-form-control>
                </nz-form-item>
              </td>
            </table>
          </div>
        </div>
        <nz-alert class="ant-alert-warning-custom" (click)="initLoadBalancer()" nzType="warning"
          nzDescription="Load Balancer giúp nhân phối tải hiệu quả, nâng cao khả năng chịu tải của hệ thống và tăng trải nghiệm người dùng"
          nzShowIcon></nz-alert>
      </nz-card> -->

      <!---------------CARD-FILE STORAGE-------------->
      <!-- <nz-card style="border-radius: 8px">
        <div style="margin-bottom: 20px"><span class="text-card-header">File Storage</span></div>
        <div *ngIf="!activeFileStorage">
          <button style="height: 32px" nz-button nzType="default" (click)="initFileStorage()">
            <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{"app.bonus" | i18n}}
            File Storage
          </button>
        </div>
        <div *ngIf="activeFileStorage">
          <div class="ant-table">
            <table>
              <td style="width:40%">
                <nz-form-item>
                  <nz-form-label>{{"volume.table.title.storage" | i18n}} File System (GB)</nz-form-label>
                  <nz-form-control>
                    <nz-row>
                      <nz-input-number style="width: 90%;margin-left: -1px" [nzMin]="0" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberFileSystem"
                        (ngModelChange)="calculate()" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-row>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:40%">
                <nz-form-item>
                  <nz-form-label>{{"volume.table.title.storage" | i18n}} File System Snapshot (GB)</nz-form-label>
                  <nz-form-control>
                    <nz-row>
                      <nz-input-number style="width: 90%; margin-left: -1px" [nzMin]="1" [nzMax]="100" [nzStep]="1"
                        (keydown)="checkPossiblePress($event)" [(ngModel)]="numberFileScnapsshot"
                        (ngModelChange)="calculate()" [ngModelOptions]="{ standalone: true }"
                        nzSize="large"></nz-input-number>
                    </nz-row>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:20%">
                <nz-form-item>
                  <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                    ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                  <nz-form-control>
                    <div class="centered">
                      <p class="text-custom-price" style="width: 90%;">
                        {{ price.fileStorage | number }} <span style="color: black;">đ</span>
                      </p>
                    </div>
                  </nz-form-control>
                </nz-form-item>
              </td>
            </table>
          </div>
        </div>
        <nz-alert class="ant-alert-warning-custom" (click)="initFileStorage()" nzType="warning"
          nzDescription="{{'project.note44' | i18n}}" nzShowIcon></nz-alert>
      </nz-card> -->

      <!---------------CARD-SITE-TO-SITE-------------->
      <!-- <nz-card style="border-radius: 8px">
        <div style="margin-bottom: 20px"><span class="text-card-header">VPC site to site</span></div>
        <div *ngIf="!activeSiteToSite">
          <button style="height: 32px" nz-button nzType="default" (click)="initVpnSiteToSite()">
            <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add.svg" alt="" />{{"app.bonus" | i18n}}
            VPC site to
            site
          </button>
        </div>
        <div *ngIf="activeSiteToSite">
          <div class="ant-table">
            <table>
              <td style="width:80%">
                <nz-form-item>
                  <nz-form-label>{{'project.note45' | i18n}}</nz-form-label>
                  <nz-form-control>
                    <nz-select nzSize="large" [nzLoading]="false" [nzDisabled]="false"
                      style="width: 96%;border-radius: 10px;" nzPlaceHolder="--{{'project.note45' | i18n}}--"
                      [(ngModel)]="siteToSiteId" [ngModelOptions]="{standalone:true}" (nzOpenChange)="calculate()">
                      <nz-option *ngFor="let i of listSiteToSite" [nzLabel]="i.offerName" [nzValue]="i.id" />
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </td>
              <td style="width:20%">
                <nz-form-item>
                  <nz-form-label style="text-align: right">{{"app.service.price-title" | i18n}}
                    ({{"app.payment-detail.month" | i18n}})</nz-form-label>
                  <nz-form-control>
                    <div class="centered">
                      <p class="text-custom-price" style="width: 90%;">
                        {{ price.siteToSite }} <span style="color: black;">đ</span>
                      </p>
                    </div>
                  </nz-form-control>
                </nz-form-item>
              </td>
            </table>
          </div>
        </div>
        <nz-alert class="ant-alert-warning-custom" (click)="initVpnSiteToSite()" nzType="warning"
          nzDescription="{{ 'project.note46' | i18n }}" nzShowIcon></nz-alert>
      </nz-card> -->
      <!---------------CARD-CONG-THUC-------------->
      <nz-card>
        <one-portal-guide-formula></one-portal-guide-formula>
      </nz-card>
    </nz-col>



    <!---------------CARD-THÀNH TIỀN-------------->
    <nz-col nzSpan="8">
      <nz-affix [nzOffsetTop]="72">
      <nz-card style="border-radius: 8px;" [nzLoading]="loadingCalculate" class="card-border">
        <div style="margin-bottom: 20px">
          <span class="text-card-header">{{'app.estimated.cost' | i18n}}</span>
        </div>
        <div class="card-money">
        <div class="text-value">{{'project.note19' | i18n}}</div>
        <div style="margin-top: 10px" class="text-label">{{ this.form.controls['name'].value}}</div>
        <nz-divider style="margin: 10px 0" nzType="horizontal"></nz-divider>
       
        <!--        Gói cấu hình sẵn-->
        <div *ngIf="selectIndexTab == 1">
          <div class="text-value">{{'custom.config.package' | i18n}}</div>
          <nz-row style="display: flex;justify-content: space-between;">
            <div style="margin-top: 10px" class="text-label">{{'app.payment-detail.quantity' | i18n}} vCPU:</div>
            <div style="margin-top: 10px" class="text-label">{{vCPU}}vCPU</div>
          </nz-row>
          <nz-row style="display: flex;justify-content: space-between;">
            <div style="margin-top: 10px" class="text-label">{{'app.payment-detail.quantity' | i18n}} RAM:</div>
            <div style="margin-top: 10px" class="text-label">{{ram}}GB</div>
          </nz-row>
          <nz-row style="display: flex;justify-content: space-between;">
            <div style="margin-top: 10px" class="text-label">{{'app.payment-detail.quantity' | i18n}} HDD:</div>
            <div style="margin-top: 10px" class="text-label">{{hhd}}GB</div>
          </nz-row>
          <nz-row style="display: flex;justify-content: space-between;">
            <div style="margin-top: 10px" class="text-label">{{'app.payment-detail.quantity' | i18n}} SSD:</div>
            <div style="margin-top: 10px" class="text-label">{{ssd}}GB</div>
          </nz-row>
          <nz-divider style="margin: 10px 0" nzType="horizontal"></nz-divider>
        </div>
        <!--        Gói cấu co san-->
        <div *ngIf="selectIndexTab == 0">
          <div class="text-value">{{'config.package' | i18n}}</div>
          <div style="margin-top: 10px" class="text-label">{{selectPackge}}</div>
          <nz-divider style="margin: 10px 0" nzType="horizontal"></nz-divider>
        </div>
        <!--        Dịch vụ bổ sung-->
        <div *ngIf="siteToSiteId||numberSnapshotssd!=0||numberSnapshothdd!=0||numberLoadBalancer != 0 ||siteToSiteId|| numberFileSystem != 0 || numberFileScnapsshot !=0|| numberBackup != 0 ||numberIpFloating != 0|| numberIpPublic != 0|| numberIpv6 != 0" class="text-value">{{
          'service.bonus' | i18n }}
        </div>
        <nz-row *ngIf="numberIpFloating != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Số lượng IP Floating:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberIpFloating }}</div>
        </nz-row>
        <nz-row *ngIf="numberIpPublic != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Số lượng IP Public:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberIpPublic }}</div>
        </nz-row>
        <nz-row *ngIf="numberIpv6 != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Số lượng IPv6:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberIpv6 }}</div>
        </nz-row>
        <nz-row *ngIf="numberSnapshothdd != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Dung lượng Snapshot - HDD:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberSnapshothdd }}GB</div>
        </nz-row>
        <nz-row *ngIf="numberSnapshotssd != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Dung lượng Snapshot - SSD:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberSnapshotssd }}GB</div>
        </nz-row>
        <nz-row *ngIf="numberBackup != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Backup:</div>
          <div style="margin-top: 10px" class="text-label">{{numberBackup}}GB</div>
        </nz-row>
        <nz-row *ngIf="numberLoadBalancer != 0"  style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Load Balancer:</div>
          <div style="margin-top: 10px" class="text-label">{{numberLoadBalancer}}GB-{{loadBalancerName}}</div>
        </nz-row>
        <nz-row *ngIf="numberFileSystem != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Dung lượng File System:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberFileSystem }}GB</div>
        </nz-row>
        <nz-row *ngIf="numberFileScnapsshot != 0" style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">Dung lượng File System Snapshot:</div>
          <div style="margin-top: 10px" class="text-label">{{ numberFileScnapsshot }}GB</div>
          
        </nz-row>
        <nz-row *ngIf="siteToSiteId " style="display: flex;justify-content: space-between;">
          <div style="margin-top: 10px" class="text-label">VPN site to site:</div>
          <div style="margin-top: 10px" class="text-label">{{ sitetositeName }}</div>
        </nz-row>
        <nz-row *ngFor="let gpu of gpuQuotasGobal" style="display: flex;justify-content: space-between;">
          <div *ngIf="gpu.GpuCount !=0" style="margin-top: 10px" class="text-label">Số lượng GPU {{gpu.GpuType}}:
          </div>
          <div *ngIf="gpu.GpuCount !=0" style="margin-top: 10px" class="text-label">{{ gpu.GpuCount }}</div>
        </nz-row>
       
       </div>
        <!-- <nz-row style="margin-bottom: 10px" nzGutter="16">
          <nz-col nzSpan="16">
            <span class="text-value">{{'app.service.cost' | i18n}} {{ this.form.controls['numOfMonth'].value || 0 }}
              {{'app.month' | i18n}}</span>
          </nz-col>
          <nz-col class="text-right" nzSpan="8">
            <span class="text-value" style="color: #0066b3" nzAlign="right">
              {{ totalAmount || 0 }}
              VND
            </span>
          </nz-col>
        </nz-row> -->
        <nz-divider *ngIf="siteToSiteId||numberSnapshotssd!=0||numberSnapshothdd!=0||numberLoadBalancer != 0 || numberFileSystem != 0 || numberFileScnapsshot !=0|| numberBackup != 0 ||numberIpFloating != 0|| numberIpPublic != 0|| numberIpv6 != 0" style="margin: 10px 0" nzType="horizontal"></nz-divider>
        <nz-row style="margin-bottom: 10px" nzGutter="16">
          <nz-col nzSpan="16">
            <span class="text-value"> Chi phí VAT (10%)</span>
          </nz-col>
          <nz-col class="text-right" nzSpan="8">
            <span class="text-value" style="color: #0066b3" nzAlign="right">
              {{ totalVAT | formatPrice}}
              VND
            </span>
          </nz-col>
        </nz-row>
        <nz-row style="
            margin-bottom: 20px;
            background-color: #cce9ff;
            padding: 16px 0 16px 0;
            border-radius: 8px;
          " nzGutter="16">
          <nz-col nzSpan="16">
            <span class="text-label">{{'app.total.payment' | i18n}}</span><br />
            <span class="text-note-italicized">({{'app.payment-detail.vat' | i18n}})</span>
          </nz-col>
          <nz-col class="text-right" nzSpan="8">
            <span class="text-value" style="color: #ea3829" nzAlign="right">{{ totalPayment | formatPrice  }} VND</span>
          </nz-col>
        </nz-row>
        <nz-row>
          <nz-col style="width: 100%">
            <button style="width: 100%" nz-button nzSize="large" nzType="primary" (click)="updateVpc()"
              [disabled]="(((selectIndexTab == 0 ||(selectIndexTab==1 && (vCPU==0&& ram==0 && hhd==0 && ssd==0))) && (numberIpPublic==0 && numberIpFloating==0 && numberIpv6==0 && numberBackup==0 && numberSnapshothdd==0 && numberSnapshotssd==0 && numberFileScnapsshot==0 && numberFileSystem==0 && numberLoadBalancer==0 && !siteToSiteId )) ) || disisable == true">
              <span nz-icon nzType="wallet" nzTheme="outline"></span>
              <span
                [style.color]="(((selectIndexTab == 0 ||(selectIndexTab==1 && (vCPU==0&& ram==0 && hhd==0 && ssd==0))) && (numberIpPublic==0 && numberIpFloating==0 && numberIpv6==0 && numberBackup==0 && numberSnapshothdd==0 && numberSnapshotssd==0 && numberFileScnapsshot==0 && numberFileSystem==0 && numberLoadBalancer==0 && !siteToSiteId )) ) || disisable == true ? 'gray' : 'white'">Điều chỉnh</span>
            </button>
          </nz-col>
        </nz-row>
      </nz-card>
    </nz-affix>
    </nz-col>
  </nz-row>


</form>