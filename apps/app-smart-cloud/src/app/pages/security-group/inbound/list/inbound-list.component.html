<nz-row style="margin-bottom: 16px">
  <section class="code-box-meta markdown">
    <div class="code-box-description">
      <div
        style="
          padding: 16px 32px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          background-color: #e1edf8;
        "
      >
        <div class="code-box-title">Inbound</div>
        <one-portal-create-security-group-inbound
          nz-tooltip
          nzTooltipTitle="Thêm mới Inbound"
          nzTooltipPlacement="bottom"
          [disabled]="!securityGroupId"
          [condition]="{
            userId: condition.userId,
            regionId: condition.regionId,
            projectId: condition.projectId,
            securityGroupId: securityGroupId
          }"
          (onOk)="getRule()"
        />
      </div>
      <div style="margin: 10px 15px">
        <nz-table
          #tableInbound
          [nzData]="collection?.records || []"
          nzShowSizeChanger
          [nzScroll]="{ x: '1000px', y: '240px' }"
          [nzFrontPagination]="false"
          [nzTotal]="collection?.totalCount || 0"
          [nzPageSize]="collection?.pageSize || 0"
          (nzPageSizeChange)="onPageSizeChange($event)"
          (nzPageIndexChange)="onPageIndexChange($event)"
          [nzLoading]="isLoading"
        >
          <thead>
            <tr>
              <th nzAlign="center" class="text-th" nzLeft>IP Version</th>
              <th nzAlign="center" class="text-th" nzBreakWord>Protocol</th>
              <th nzAlign="center" class="text-th" nzBreakWord>PortRange</th>
              <th nzAlign="center" class="text-th" nzBreakWord>
                RemoteIPPrefix
              </th>
              <th
                nzAlign="center"
                class="text-th"
                style="width: 216px"
                nzBreakWord
              >
                Thao tác
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of tableInbound.data">
              <td nzAlign="center" nzLeft>{{ data.remoteIp }}</td>
              <td nzAlign="center" nzBreakWord>{{ data.protocol }}</td>
              <td nzAlign="center" nzBreakWord>{{ data.portRange }}</td>
              <td nzAlign="center" nzBreakWord>{{ data.remoteIpPrefix }}</td>
              <td nzAlign="center" nzBreakWord>
                <button
                  style="
                    border: none;
                    background-color: transparent;
                    margin-left: -30px;
                    cursor: pointer;
                  "
                  class="button-delete"
                  (click)="showModal()" 
                >
                  <img
                    src="assets/imgs/bin.svg"
                    alt=""
                    class="icon-image"
                    style="cursor: pointer"
                  />
                </button>
                <one-portal-delete-security-group-rule
                  nz-tooltip
                  nzTooltipTitle="Xóa Inbound"
                  nzTooltipPlacement="bottom"
                  [isVisible]="isVisible"
                  [condition]="{
                                  userId: condition.userId,
                                  regionId: condition.regionId,
                                  projectId: condition.projectId,
                                }"
                  [id]="data.id"
                  [title]="title"
                  [content]="content"
                  (onCancel)="handleCancel()"
                  (onOk)="handleOk(data.id)"
                />
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </div>
  </section>
</nz-row>
