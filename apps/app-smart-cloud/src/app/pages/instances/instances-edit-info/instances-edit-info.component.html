<ng-template #loadingSpinner><nz-spin nzSimple></nz-spin></ng-template>
<div *ngIf="pagedCardListImages | async as myData; else loadingSpinner">
  
</div>

<page-header [title]="'Chỉnh sửa thông tin máy ảo'"> </page-header>

<nz-card
  [nzBordered]="false"
  nzTitle="Thay đổi hệ điều hành"
>
  <nz-row nzGutter="16">
    <p>Hệ điều hành hiện tại: {{ instancesModel.imageId }}</p>
  </nz-row>
  <nz-row nzGutter="16">
    <p>Lựa chọn hệ điều hành mới</p>
  </nz-row>
  <nz-row nzGutter="16">
    <nz-col nzLg="6" nzMd="12" nzSm="24" *ngFor="let hdh of listImageTypes">
      <table class="hdh-card">
        <tbody>
          <tr height="200px">
            <span nz-icon nzType="windows" nzTheme="outline">{{
              hdh.name
            }}</span>
          </tr>
          <tr>
            <nz-select
              [id]="'hdh_' + hdh.id"
              [(ngModel)]="hdh.versionId"
              (ngModelChange)="onInputHDH(hdh.id, $event)"
              (nzOpenChange)="getAllImageVersionByType(hdh.id)"
              [nzLoading]="isLoading"
              nzPlaceHolder="Chọn phiên bản"
              [ngModelOptions]="{ standalone: true }"
              style="width: 100%; text-align: center"
            >
              <nz-option nzValue="" nzLabel="Chọn phiên bản"></nz-option>
              <nz-option
                *ngFor="let p of listImageVersionByType"
                [nzValue]="p.id"
                [nzLabel]="p.name"
              ></nz-option>
            </nz-select>
          </tr>
        </tbody>
      </table>
    </nz-col>

  </nz-row>
  <nz-carousel 
  [nzEffect]="effect"
  style="overflow: initial"
  style="height: 300px"
>
  <div nz-carousel-content *ngFor="let page of pagedCardListImages">
    <div nz-row>
      <div nz-col nzSpan="6" *ngFor="let data of page">
        <table class="hdh-card" style="background-color: aqua;">
          <tbody>
            <tr height="200px">
              <span nz-icon nzType="windows" nzTheme="outline">{{
                hdh.name
              }} 222222222222222222222</span>
            </tr>
            <tr>
              <nz-select
                [id]="'hdh_' + hdh.id"
                [(ngModel)]="hdh.versionId"
                (ngModelChange)="onInputHDH(hdh.id, $event)"
                (nzOpenChange)="getAllImageVersionByType(hdh.id)"
                [nzLoading]="isLoading"
                nzPlaceHolder="Chọn phiên bản"
                [ngModelOptions]="{ standalone: true }"
                style="width: 100%; text-align: center"
              >
                <nz-option nzValue="" nzLabel="Chọn phiên bản"></nz-option>
                <nz-option
                  *ngFor="let p of listImageVersionByType"
                  [nzValue]="p.id"
                  [nzLabel]="p.name"
                ></nz-option>
              </nz-select>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</nz-carousel>


<nz-carousel style="overflow: initial">
  <div nz-carousel-content *ngFor="let page of pagedCardListImages">
    <div nz-row [nzGutter]="24" class="mb-md">
      <div nz-col [nzSpan]="12">
        <div nz-row [nzJustify]="'center'" [nzAlign]="'middle'">
          <div nz-col [nzSpan]="8">
            <i nz-icon nzType="laptop" class="display-2 text-blue"></i>
          </div>
          <div nz-col [nzSpan]="16">
            <h4 class="fs-md text-blue mb0">服务注册中心</h4>
            <div class="text-grey">Register Server</div>
          </div>
        </div>
      </div>
      <div nz-col [nzSpan]="12">
        <div nz-row [nzJustify]="'center'" [nzAlign]="'middle'">
          <div nz-col [nzSpan]="8">
            <i nz-icon nzType="rocket" class="display-2 text-red"></i>
          </div>
          <div nz-col [nzSpan]="16">
            <h4 class="fs-md text-blue mb0">可靠消息</h4>
            <div class="text-grey">Msg Broker</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nz-carousel>


  <br />
  <br />
  <nz-row nzGutter="16">
    <div style="width: 100%">
      <nz-alert
        nzType="warning"
        [nzMessage]="nzDescriptionWarning06"
        nzShowIcon
      ></nz-alert>
      <ng-template #nzDescriptionWarning06>
        <div>
          Các phiên bản hệ điều hành Windows Server là bản dùng thử.Quý khách
          hàng vui lòng kích hoạt bản quyền trước khi sử dụng.
        </div>
      </ng-template>
    </div></nz-row
  ><nz-row nzGutter="16">
    <div style="width: 100%; margin-top: 2%; margin-bottom: 2%">
      <nz-alert
        nzType="warning"
        [nzMessage]="nzDescriptionWarning02"
        nzShowIcon
      ></nz-alert>
      <ng-template #nzDescriptionWarning02>
        <div>
          <b> Quý khách lưu ý:</b><br />
          <b style="color: red">
            - Dữ liệu nằm trong volume cài đặt hệ điều hành cũ (dung lượng 2 GB)
            sẽ bị xóa và không thể khôi phục lại.</b
          >
          <br />- Dữ liệu nằm trên volume gắn ngoài sẽ không bị ảnh hưởng.
          <br />- Sau khi điều chỉnh thành công, mật khẩu đăng nhập mới sẽ được
          gửi vào email khaitestportal2@yopmail.com . <br />- Quá trình điều
          chỉnh hệ điều hành sẽ mất khoảng 15 đến 20 phút tùy dung lượng của
          volume root của máy ảo. <br />- Cấu hình máy ảo (SMC01), ip (,
          192.168.0.109), security group (default) sẽ được giữ nguyên.
        </div>
      </ng-template>
    </div></nz-row
  >
  <nz-row nzGutter="16" style="display: inline">
    <div style="float: right">
      <button nz-button (click)="returnPage()">Quay lại</button>
      <button nz-button [nzType]="'primary'">Chỉnh sửa</button>
    </div>
  </nz-row>
</nz-card>
