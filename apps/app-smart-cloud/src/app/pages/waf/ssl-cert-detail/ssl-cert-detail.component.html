<page-header [breadcrumb]="breadcrumb" title="Chi tiết SSL Cert">
    <ng-template #breadcrumb>
        <nz-breadcrumb [nzSeparator]="iconTemplate">
            <nz-breadcrumb-item><a [routerLink]="['/']">{{
                    'app.breadcrumb.home' | i18n
                    }}</a></nz-breadcrumb-item>
            <nz-breadcrumb-item> {{ 'app.breadcrumb.infrastructure.service' | i18n }} </nz-breadcrumb-item>
            <nz-breadcrumb-item>WAF</nz-breadcrumb-item>
            <nz-breadcrumb-item>SSL Cert</nz-breadcrumb-item>
        </nz-breadcrumb>
        <ng-template #iconTemplate><one-portal-svg-icon [icon]="'icon_breadcrumb'"></one-portal-svg-icon></ng-template>
    </ng-template>
</page-header>
<nz-content>
    <nz-card>
        <div class="d-flex" style="justify-content: space-between; align-items: center">
            <div style="align-items: center" class="d-flex">
                <span class="text-card-header">Thông tin SSL Cert</span>
            </div>
        </div>
        <div nz-row [nzGutter]="24" class="info-project">
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                <div>
                    <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Certificate Name:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">{{detail?.name}}</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Expiration Date:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <ng-container *ngIf="detail?.expiration">
                                <span class="label-fontsize font-bold">{{detail?.expiration | date: 'HH:mm:ss dd/MM/YYYY'}}</span>
                            </ng-container>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Issuing Authority:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">C=BE,O=GlobalSign nv-sa,CN=AlphaSSL CA - SHA256 - G2</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Issued On:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">{{detail?.expiration | date: 'HH:mm:ss dd/MM/YYYY'}}</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Key Usage:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">Signature And Encipherment</span>
                        </div>
                    </div>
                </div>
            </div>
            <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                <div class="" style="margin-left:20px">
                    <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Authorized Domain(s):</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold">{{detail?.authorizedDomains.length > 0 ?
                                detail?.authorizedDomains.join(", ") : '-'}}</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Serial number:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold">7283a292e2ade2e00d8cf033</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-white-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Issue to:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">CN=*.smartcloud.vn</span>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="24" class="row-gray-bg content-items-center">
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize">Encipherment Algorithm:</span>
                        </div>
                        <div nz-col nzXs="24" nzSm="12" nzMd="12" nzLg="12">
                            <span class="label-fontsize font-bold ">RSA</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nz-card>
    <nz-card>
        <div class="d-flex" style="justify-content: space-between; align-items: center">
            <div style="align-items: center" class="d-flex">
                <span class="text-card-header">Associated Domains</span>
            </div>
        </div>
        <nz-row nzJustify="space-between">
            <nz-col nzSpan="16">
            </nz-col>
            <nz-col nzSpan="8" style="flex:none;">
                <button nz-button nzType="primary" nzSize="large" (click)="handleOpenAssociateDomain()">
                    <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/add-circle.svg" alt="" />
                    <span class="button-text-primary">Associated Domains</span>
                </button>
            </nz-col>
        </nz-row>
        <nz-table #fixedTable style="margin-top: 20px;" nzShowSizeChanger [nzData]="response?.records || []"
            [nzPageSize]="response?.pageSize" [nzPageIndex]="response?.currentPage"
            (nzPageIndexChange)="onPageIndexChange($event)" [nzTotal]="response?.totalCount" [nzFrontPagination]="false"
            [nzLoading]="false">
            <thead>
                <tr>
                    <th nzLeft>Associated Domains</th>
                    <th>Deployment Status</th>
                    <th>Certificate Usage</th>
                    <th>{{ 'volume.table.title.action' | i18n }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of fixedTable.data">
                    <td nzLeft><a (click)="navigateToDetail(data.id)">{{ data.name }}</a></td>
                    <td nzLeft nzBreakWord>{{data.status}}</td>
                    <td nzLeft nzBreakWord>{{data.usage}}</td>
                    <td nzAlign="center">
                        <one-portal-disassociate-domain-btn [sslCertData]="data"
                            [domainData]="{}"></one-portal-disassociate-domain-btn>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </nz-card>
</nz-content>
<one-portal-associate-ssl-domain [isVisible]="isVisibleAssociateDomain"
    (onCancelVisible)="handleCancelAssociateDomain()" [sslCertData]="detail"></one-portal-associate-ssl-domain>