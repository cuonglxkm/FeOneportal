<nz-card>
    <ng-container *ngIf="tabStatus === 0">
        <div class="table-filter mb-5">
            <nz-input-group nzSearch [nzPrefix]="prefixIconButton">
                <input type="text" nz-input placeholder="Tìm kiếm" [(ngModel)]="stringSearch"
                    (keyup.enter)="getCredentials()" />
            </nz-input-group>
            <ng-template #prefixIconButton>
                <span class="search-icon" nz-icon nzType="search"></span>
            </ng-template>
            <button nz-button nzType="primary" (click)="changeTabStatus(1)">Tạo mới</button>
        </div>
    
        <nz-table id="credentials-table" nzBordered #basicTable [nzData]="credentials" nzShowSizeChanger
            [nzFrontPagination]="false" nzShowPagination [nzTotal]="total" [nzPageIndex]="page" [nzPageSize]="size"
            (nzPageSizeChange)="changeSize($event)" nzTableLayout="fixed" (nzPageIndexChange)="changePage($event)">
            <thead>
                <tr>
                    <th nzWidth="5%">STT</th>
                    <th>Tài khoản</th>
                    <th>Mật khẩu</th>
                    <th>Ngày tạo</th>
                    <th style="text-align: center;" nzWidth="10%">Thao tác</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of basicTable.data; let i = index">
                    <td>{{ i + 1 }}</td>
                    <td>{{ data.username }}</td>
                    <td>**********</td>
                    <td>{{ data.createdDate }}</td>
                    <td style="text-align: center;">
                        <a nz-dropdown [nzDropdownMenu]="menu">
                            <span nz-icon nzType="more" nzTheme="outline" style="font-size:20px"></span>
                        </a>
                        <nz-dropdown-menu #menu="nzDropdownMenu" nzPlacement="bottomRight">
                            <ul nz-menu nzSelectable>
                                <li nz-menu-item>
                                    <button nz-button nzType="text" (click)="updateForm(data)">
                                        <span nz-icon nzType="unlock" nzTheme="outline" style="color: #2F54EB"></span>Đổi
                                        mật khẩu
                                    </button>
                                </li>
                                <li nz-menu-item>
                                    <button nz-button nzType="text" (click)="forgotPass(data)">
                                        <span nz-icon nzType="lock" nzTheme="outline" style="color: #2F54EB"></span>Quên mật
                                        khẩu
                                    </button>
                                </li>
                                <li nz-menu-item>
                                    <button nz-button nzType="text" (click)="deleteUser(data)">
                                        <span nz-icon nzType="delete" nzTheme="outline" style="color: #B11226"></span>Xoá
                                    </button>
                                </li>
                            </ul>
                        </nz-dropdown-menu>
                    </td>
                </tr>
            </tbody>
        </nz-table>

    </ng-container>
    <ng-container *ngIf="tabStatus === 1">
        <one-portal-create-credential (closeFormEvent)="changeTabStatus(0)"></one-portal-create-credential>

    </ng-container>

</nz-card>