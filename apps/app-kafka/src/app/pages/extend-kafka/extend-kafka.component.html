<ng-container *ngIf="itemDetail">
    <page-header [breadcrumb]="breadcrumb" [title]="('kafka.extend.title' | i18n) + ': ' + itemDetail.serviceName" [action]="action">
        <ng-template #breadcrumb>
            <nz-breadcrumb>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/']">{{ 'app.breadcrumb.home' | i18n }}</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/app-kafka']">Kafka</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    {{'kafka.extend.title' | i18n}}
                </nz-breadcrumb-item>
            </nz-breadcrumb>
        </ng-template>

        <!-- action -->
        <ng-template #action>
            <div class="alain-custom-action text-right">
                <region-select-dropdown [isDetail]="true"></region-select-dropdown>
                <project-select-dropdown [regionId]="regionId" [isDetail]="true"></project-select-dropdown>
            </div>
        </ng-template>
    </page-header>

    <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="16" class="form-new">
            <nz-card class="border-card" id="general">
                <h3><b>{{'app.payment-detail.serviceInformation' | i18n}}</b></h3>
                <div nz-row>
                    <div nz-col [nzSpan]="5">{{'app.kafka.name' | i18n}}:</div>
                    <div><b>{{this.itemDetail.serviceName}}</b></div>
                </div>
                <div nz-row>
                    <div nz-col [nzSpan]="5">{{'app.service.creation-date' | i18n}}:</div>
                    <div>{{ itemDetail.createdDate | date: 'dd/MM/yyyy' }}</div>
                </div>
                <div nz-row>
                    <div nz-col [nzSpan]="5">{{'app.service.expiration-date' | i18n}}:</div>
                    <div style="color: #ea3829"><b>{{ itemDetail.expiryDate | date: 'dd/MM/yyyy' }}</b></div>
                </div>
                <div nz-row>
                    <div nz-col [nzSpan]="5">{{'app.service.package' | i18n}}:</div>
                    <div><b>{{this.itemDetail.offerName}}</b></div>
                </div> 
                <div nz-row>
                    <div nz-col [nzSpan]="4">
                        <ul>
                            <li>{{'app.kafka.broker' | i18n}}: 3</li>
                            <li>RAM: {{itemDetail.ram}} GB</li>
                        </ul>
                    </div>
                    <div nz-col [nzSpan]="6"></div>
                    <div>
                        <ul>
                            <li>CPU: {{itemDetail.cpu}} VCPU</li>
                            <li>Storage: {{itemDetail.storage}} GB</li>
                        </ul>
                    </div>
                </div>
            </nz-card>

            <nz-card class="border-card" id="general">
                <h3><b>{{'app.extension.info' | i18n}}</b></h3>
                <div nz-row>
                    {{'app.extend.start.date' | i18n}}: {{ startExpiryDate | date: 'dd/MM/yyyy' }}
                </div>
                <div nz-row>
                    <div class="w-100">
                        <label>{{'app.months.for.extend' | i18n}} (<span class="text-red">*</span>)
                            <img
                                style="margin-left: 5px; margin-bottom: 2px;"
                                [nzTooltipTitle]="'app.extend.tooltip' | i18n" nzTooltipPlacement="rightTop" nz-tooltip
                                src="assets/imgs/pajamas_question.svg"
                                alt=""
                            />
                        </label>
                    </div>
                    <div class="w-100">
                        <nz-input-group nzSize="large" class="w-100">
                            <input [nzStatus]="statusInput" nz-input type="number" [(ngModel)]="duration" (ngModelChange)="onChangeDuration()" autofocus placeholder="1"/>
                        </nz-input-group>
                        <ng-container *ngIf="statusInput === 'error'">
                            <p class="input-error">{{msgError}}</p>
                        </ng-container>
                    </div>
                </div>
                <div nz-row style="color: #ea3829">
                    {{'app.expected.expiry.date' | i18n}}:&nbsp; <p style="color: #ea3829"> <b>{{ expectExpiryDate | date: 'dd/MM/yyyy' }}</b> </p>
                </div>

            </nz-card>

        </div>

        <!-- payment -->
        <div nz-col [nzSpan]="8">
            <nz-card class="price-card">
                <h3><b>{{ 'app.service.price-title' | i18n }}</b></h3>
                <div nz-row [nzGutter]="8">
                    <div nz-col [nzSpan]="12">
                        <div class="label-price">{{'app.extend.cost' | i18n}}</div>
                    </div>
                    <div nz-col [nzSpan]="12">
                        <div class="value-price">{{ extendAmount | number: '1.0-0'}} VNĐ</div>
                    </div>
                </div>
                <nz-divider class="divider-style"></nz-divider>
                
                <div nz-row [nzGutter]="8" class="mt-5 price-panel">
                    <div nz-col [nzSpan]="12">
                        <div class="label-price">{{'app.payment-detail.totalPayment' | i18n}}</div>
                        <div class="label-quantity"><i>({{ 'app.service.include' | i18n }} 10% VAT)</i></div>
                    </div>
                    <div nz-col [nzSpan]="12">
                        <div class="value-price total-price"> {{extendAmount === 0 ? 0 : extendAmount * 1.1 | number: '1.0-0'}} VNĐ</div>
                    </div>
                </div>

                <div nz-row class="mt-5" [nzGutter]="16" nzJustify="center">
                    <div nz-col [nzSpan]="12">
                        <button nz-button nzType="default" nzBlock (click)="backToList()">
                            <img style="padding-right: 10px; margin-top: -4px" src="assets/imgs/cancel.svg" alt="" />
                            <b>{{ 'app.button.cancel' | i18n }}</b>
                        </button>
                    </div>

                    <div nz-col [nzSpan]="12">
                        <button nz-button nzType="primary" nzBlock [disabled]="extendAmount === 0"
                            (click)="onSubmitPayment()">
                            <b>{{ 'app.extend' | i18n }}</b>
                        </button>
                    </div>
                </div>
            </nz-card>
        </div>
    </div>
</ng-container>