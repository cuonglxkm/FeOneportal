<ng-container *ngIf="itemDetail">
    <page-header [breadcrumb]="breadcrumb" [title]="'Chỉnh sửa thông tin Kafka: ' + this.itemDetail.serviceName">
        <ng-template #breadcrumb>
            <nz-breadcrumb>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/']">Trang chủ</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/app-kafka']">Kafka</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    Chỉnh sửa thông tin Kafka
                </nz-breadcrumb-item>
            </nz-breadcrumb>
        </ng-template>
    </page-header>
    
    <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="24" class="form-new">
            <form nz-form [formGroup]="myform" nzLayout="horizontal" nzLabelAlign="left">
    
                <nz-card class="border-card">
                    <h3>Thông tin chung</h3>
                    <span nzType="secondary" style="color: #6C757D">
                        <nz-alert nzType="warning"
                            [nzMessage]="'Khách hàng có thể nâng cấp Phiên bản Kafka, và sửa các thông tin Cấu hình khác mà không mất phí. 
                            Tuy nhiên, để tránh phát sinh vấn đề trong quá trình xử lý, chỉ có thể nâng cấp phiên bản lần lượt theo thứ tự và không được phép hạ phiên bản.'"
                            [nzIcon]="customIconTemplate"
                            nzShowIcon>
                        </nz-alert> 
                        <ng-template #customIconTemplate>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.5 6L18.8612 18.75H4.13878L11.5 6Z" fill="white"/>
                                <path d="M21.76 15.92L15.36 4.4C14.5 2.85 13.31 2 12 2C10.69 2 9.49998 2.85 8.63998 4.4L2.23998 15.92C1.42998 17.39 1.33998 18.8 1.98998 19.91C2.63998 21.02 3.91998 21.63 5.59998 21.63H18.4C20.08 21.63 21.36 21.02 22.01 19.91C22.66 18.8 22.57 17.38 21.76 15.92ZM11.25 9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V14C12.75 14.41 12.41 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14V9ZM12.71 17.71C12.66 17.75 12.61 17.79 12.56 17.83C12.5 17.87 12.44 17.9 12.38 17.92C12.32 17.95 12.26 17.97 12.19 17.98C12.13 17.99 12.06 18 12 18C11.94 18 11.87 17.99 11.8 17.98C11.74 17.97 11.68 17.95 11.62 17.92C11.56 17.9 11.5 17.87 11.44 17.83C11.39 17.79 11.34 17.75 11.29 17.71C11.11 17.52 11 17.26 11 17C11 16.74 11.11 16.48 11.29 16.29C11.34 16.25 11.39 16.21 11.44 16.17C11.5 16.13 11.56 16.1 11.62 16.08C11.68 16.05 11.74 16.03 11.8 16.02C11.93 15.99 12.07 15.99 12.19 16.02C12.26 16.03 12.32 16.05 12.38 16.08C12.44 16.1 12.5 16.13 12.56 16.17C12.61 16.21 12.66 16.25 12.71 16.29C12.89 16.48 13 16.74 13 17C13 17.26 12.89 17.52 12.71 17.71Z" fill="url(#paint0_linear_1927_14996)"/>
                                <defs>
                                <linearGradient id="paint0_linear_1927_14996" x1="4.58763" y1="3.5704" x2="19.7787" y2="21.197" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#FDC944"/>
                                <stop offset="1" stop-color="#FF7A00"/>
                                </linearGradient>
                                </defs>
                            </svg>                                
                        </ng-template>
                    </span>
                    <div nz-row [nzGutter]="24">
                        <div nz-col [nzSpan]="12">
                            <nz-form-item class="mt-4">
                                <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired>Tên Kafka</nz-form-label>
                                <nz-form-control [nzErrorTip]="kafkaErrorTpl">
                                    <nz-input-group class="w-100" nzSize="large">
                                        <input nz-input type="text" placeholder="Nhập tên kafka"
                                            formControlName="serviceName" id="serviceName" autofocus />
                                    </nz-input-group>
                                </nz-form-control>
                                <ng-template #kafkaErrorTpl let-control>
                                    <ng-container *ngIf="control.hasError('required')">
                                        <div>Vui lòng nhập tên dịch vụ Kafka</div>
                                    </ng-container>
                                    <ng-container *ngIf="control.hasError('minlength') || control.hasError('maxlength')">
                                        <div>Tên Kafka trong khoảng từ 5-50 ký tự</div>
                                    </ng-container>
                                    <ng-container *ngIf="control.hasError('pattern')">
                                        <div>Tên Kafka chỉ bao gồm các chữ thường, chữ hoa, số và các ký tự _-</div>
                                    </ng-container>
                                </ng-template>
                            </nz-form-item>
                        </div>
    
                        <div nz-col [nzSpan]="12">
                            <nz-form-item class="mt-4">
                                <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired>Phiên bản Kafka</nz-form-label>
                                <nz-form-control nzErrorTip="Vui lòng chọn phiên bản Kafka">
                                    <nz-select formControlName="version" *ngFor="let data of listOfKafkaVersion"
                                        nzPlaceHolder="Chọn phiên bản Kafka" nzSize="large">
                                        <nz-option [nzValue]="data.helmVersion"
                                            [nzLabel]="data.apacheKafkaVersion"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
    
                    <nz-form-item>
                        <nz-form-label [nzSm]="24" [nzXs]="24">Mô tả</nz-form-label>
                        <nz-form-control nzErrorTip="">
                            <nz-textarea-count [nzMaxCharacterCount]="500">
                                <textarea formControlName="description" nz-input placeholder="Mô tả dịch vụ"
                                    [nzAutosize]="{ minRows: 5, maxRows: 12 }" nzSize="large"></textarea>
                            </nz-textarea-count>
                        </nz-form-control>
                    </nz-form-item>
                    
                    <nz-form-item>
                        <nz-form-control [nzSpan]="24">
                            <div class="footer-btn">
                                <button nz-button (click)="backToList()" style="margin-right: 16px;">
                                    <img
                                        style="margin-top: -4px"
                                        src="assets/imgs/arrow-left-3.svg"
                                        alt=""
                                    />Trở lại
                                </button>
                                <button nz-button nzType="primary" (click)="updateKafka()">
                                    <img
                                        style="padding-right: 10px; margin-top: -4px"
                                        src="assets/imgs/confirm.svg"
                                        alt=""
                                    />Lưu
                                </button>
                            </div>
                        </nz-form-control>
                    </nz-form-item>
                </nz-card>
            </form>
        </div>
    </div>
</ng-container>