<ng-container *ngIf="itemDetail">
    <page-header [breadcrumb]="breadcrumb" [title]="'Chỉnh sửa thông tin Kafka: ' + this.itemDetail.serviceName">
        <ng-template #breadcrumb>
            <nz-breadcrumb>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/']">Trang chủ</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    <a [routerLink]="['/app-kafka']">Kafka</a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    Chỉnh sửa thông tin Kafka
                </nz-breadcrumb-item>
            </nz-breadcrumb>
        </ng-template>
    </page-header>
    
    <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="24" class="form-new">
            <form nz-form [formGroup]="myform" nzLayout="horizontal" nzLabelAlign="left">
    
                <nz-card class="border-card">
                    <h3>Thông tin chung</h3>
                    <div nz-row [nzGutter]="24">
                        <div nz-col [nzSpan]="12">
                            <nz-form-item class="mt-4">
                                <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired>Tên Kafka</nz-form-label>
                                <nz-form-control [nzErrorTip]="kafkaErrorTpl">
                                    <nz-input-group class="w-100" nzSize="large">
                                        <input nz-input type="text" placeholder="Nhập tên kafka"
                                            formControlName="serviceName" id="serviceName" autofocus />
                                    </nz-input-group>
                                </nz-form-control>
                                <ng-template #kafkaErrorTpl let-control>
                                    <ng-container *ngIf="control.hasError('required')">
                                        <div>Vui lòng nhập tên dịch vụ Kafka</div>
                                    </ng-container>
                                    <ng-container *ngIf="control.hasError('minlength') || control.hasError('maxlength')">
                                        <div>Tên Kafka trong khoảng từ 5-50 ký tự</div>
                                    </ng-container>
                                    <ng-container *ngIf="control.hasError('pattern')">
                                        <div>Tên Kafka chỉ bao gồm các chữ thường, chữ hoa, số và các ký tự _-</div>
                                    </ng-container>
                                </ng-template>
                            </nz-form-item>
                        </div>
    
                        <div nz-col [nzSpan]="12">
                            <nz-form-item class="mt-4">
                                <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired>Phiên bản Kafka</nz-form-label>
                                <nz-form-control nzErrorTip="Vui lòng chọn phiên bản Kafka">
                                    <nz-select formControlName="version" *ngFor="let data of listOfKafkaVersion"
                                        nzPlaceHolder="Chọn phiên bản Kafka" nzSize="large">
                                        <nz-option [nzValue]="data.helmVersion"
                                            [nzLabel]="data.apacheKafkaVersion"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
    
                    <nz-form-item>
                        <nz-form-label [nzSm]="24" [nzXs]="24">Mô tả</nz-form-label>
                        <nz-form-control nzErrorTip="">
                            <nz-textarea-count [nzMaxCharacterCount]="500">
                                <textarea formControlName="description" nz-input placeholder="Mô tả dịch vụ"
                                    [nzAutosize]="{ minRows: 5, maxRows: 12 }" nzSize="large"></textarea>
                            </nz-textarea-count>
                        </nz-form-control>
                    </nz-form-item>
                    
                    <nz-form-item>
                        <nz-form-control [nzSpan]="24">
                            <div class="footer-btn">
                                <button nz-button (click)="backToList()" style="margin-right: 16px;">
                                    <img
                                        style="margin-top: -4px"
                                        src="assets/imgs/arrow-left-3.svg"
                                        alt=""
                                    />Trở lại
                                </button>
                                <button nz-button nzType="primary" (click)="updateKafka()">
                                    <img
                                        style="padding-right: 10px; margin-top: -4px"
                                        src="assets/imgs/confirm.svg"
                                        alt=""
                                    />Lưu
                                </button>
                            </div>
                        </nz-form-control>
                    </nz-form-item>
                </nz-card>
            </form>
        </div>
    </div>
</ng-container>