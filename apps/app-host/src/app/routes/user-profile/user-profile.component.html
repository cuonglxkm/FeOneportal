<page-header [title]="'menu.account.center' | i18n" />

<nz-card>
  <div class="text-card-header" style="margin-bottom: 20px">
    {{ 'form.account.information' | i18n }}
  </div>
  <form
    nz-form
    [formGroup]="form"
    (ngSubmit)="submitForm()"
    [nzLayout]="'vertical'"
  >
    <nz-row nzGutter="16">
      <nz-col nzLg="6" nzMd="6" nzSm="24">
        <nz-form-item>
          <nz-form-label
            >{{ 'form.account.surname' | i18n }} (<span class="text-red">*</span
            >)</nz-form-label
          >
          <nz-form-control
            nzErrorTip="Họ không được để trống và chứa ký tự đặc biệt!"
          >
            <input
              maxlength="20"
              nz-input
              formControlName="surname"
              placeholder="Họ"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
      <nz-col nzLg="6" nzMd="6" nzSm="24">
        <nz-form-item>
          <nz-form-label
            >{{ 'form.account.name' | i18n }} (<span class="text-red">*</span
            >)</nz-form-label
          >
          <nz-form-control
            nzErrorTip="Tên không được để trống và chứa ký tự đặc biệt!"
          >
            <input
              nz-input
              formControlName="name"
              placeholder="Tên"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
      <nz-col nzLg="6" nzMd="6" nzSm="24">
        <nz-form-item>
          <nz-form-label>Email</nz-form-label>
          <nz-form-control [nzErrorTip]="'validation.email.wrong-format' | i18n">
            <input
              nz-input
              formControlName="email"
              placeholder="Email"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
      <nz-col nzLg="6" nzMd="6" nzSm="24">
        <nz-form-item>
          <nz-form-label
            >{{ 'form.account.phone' | i18n }} (<span class="text-red">*</span
            >)</nz-form-label
          >
          <nz-form-control [nzErrorTip]="phoneErrorTpl">
            <input
              nz-input
              formControlName="phone"
              [placeholder]="'form.account.phone' | i18n"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
        <ng-template #phoneErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')"
            >{{ 'validation.phone-number.required' | i18n }}
          </ng-container>
          <ng-container *ngIf="control.hasError('validPhoneNumber')">{{
            'validation.phone-number.wrong-format' | i18n
          }}</ng-container>
        </ng-template>
      </nz-col>
    </nz-row>

    <nz-row nzGutter="16">
      <nz-col nzLg="12" nzMd="12" nzSm="24">
        <nz-form-item>
          <nz-form-label>{{ 'form.account.guestCode' | i18n }}</nz-form-label>
          <nz-form-control nzErrorTip="Mã khách hàng">
            <input
              [disabled]="true"
              nz-input
              formControlName="customer_code"
              placeholder="Mã khách hàng"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>

      <nz-col nzLg="12" nzMd="12" nzSm="24">
        <nz-form-item>
          <nz-form-label>{{
            'form.account.contractCode' | i18n
          }}</nz-form-label>
          <nz-form-control nzErrorTip="Mã hợp đồng">
            <input
              nz-input
              formControlName="contract_code"
              placeholder="Mã hợp đồng"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>

    <nz-row nzGutter="16">
      <nz-col nzLg="12" nzMd="12" nzSm="24">
        <nz-form-item>
          <nz-form-label
            >{{ 'form.account.city' | i18n }} (<span class="text-red">*</span
            >)</nz-form-label
          >
          <nz-form-control nzErrorTip="Tỉnh/Thành phố">
            <nz-select
              [nzPlaceHolder]="'Chọn Tỉnh/Thành phố'"
              [nzShowSearch]="true"
              formControlName="province"
              nzSize="large"
            >
              <nz-option
                *ngFor="let i of provinceList"
                [nzLabel]="i"
                [nzValue]="i"
              />
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </nz-col>

      <nz-col nzLg="12" nzMd="12" nzSm="24">
        <nz-form-item>
          <nz-form-label>{{ 'form.account.address' | i18n }}</nz-form-label>
          <nz-form-control nzErrorTip="Địa chỉ không được chứa ký tự đặc biệt!">
            <input
              maxlength="255"
              nz-input
              formControlName="address"
              placeholder="Địa chỉ"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>

    <div nz-row class="mb-md">
      <div nz-col nzSpan="24">
        <div class="text-right">
          <button type="button" nz-button routerLink="/">
            <img
              style="padding-right: 10px; margin-top: -4px"
              src="assets/imgs/cancel.svg"
              alt=""
            />{{ 'app.button.cancel' | i18n }}
          </button>
          <button nz-button [nzType]="'primary'" [disabled]="form.invalid">
            <img
              style="padding-right: 10px; margin-top: -4px"
              src="assets/imgs/confirm.svg"
              alt=""
            />
            {{ 'app.button.update' | i18n }}
          </button>
        </div>
      </div>
    </div>
  </form>
</nz-card>